---
displayed_sidebar: "Japanese"
---

# SHOW EXPORT（エクスポートジョブの実行情報をクエリ）

## 説明

指定された条件に一致するエクスポートジョブの実行情報をクエリします。

## 構文

```SQL
SHOW EXPORT
[ FROM <db_name> ]
[
WHERE
    [ QUERYID = <query_id> ]
    [ STATE = { "PENDING" | "EXPORTING" | "FINISHED" | "CANCELLED" } ]
]
[ ORDER BY <field_name> [ ASC | DESC ] [, ... ] ]
[ LIMIT <count> ]
```

## パラメータ

このステートメントは、以下のオプションクローズを含めることができます:

- FROM

  クエリしたいデータベースの名前を指定します。FROMクローズを指定しない場合、StarRocksは現在のデータベースをクエリします。

- WHERE

  指定された条件に基づいてエクスポートジョブをフィルタリングしたい場合に使用します。指定された条件に一致するエクスポートジョブのみがクエリの結果セットに返されます。

  | **パラメータ** | **必須** | **説明** |
  | ------------- | ---------- | ------------ |
  | QUERYID       | いいえ       | クエリしたいエクスポートジョブのIDです。このパラメータは、単一のエクスポートジョブの実行情報をクエリするために使用されます。 |
  | STATE         | いいえ       | クエリしたいエクスポートジョブのステータスです。有効な値:<ul><li>`PENDING`: スケジュール待ちのエクスポートジョブをクエリ</li><li>`EXPORING`: 実行中のエクスポートジョブをクエリ</li><li>`FINISHED`: 正常に完了したエクスポートジョブをクエリ</li><li>`CANCELLED`: 失敗したエクスポートジョブをクエリ</li></ul> |

- ORDER BY

  クエリの結果セットのエクスポートジョブレコードを並べ替えたいフィールドの名前を指定します。複数のフィールドを指定することができ、それらはコンマ（`,`）で区切られます。さらに、`ASC`または`DESC`キーワードを使用して、指定されたフィールドに基づいてエクスポートジョブレコードを昇順または降順に並べ替えることができます。

- LIMIT

  クエリの結果セットを指定された行数の最大数に制限します。有効な値: 正の整数。LIMITクローズを指定しない場合、StarRocksは指定された条件に一致するすべてのエクスポートジョブを返します。

## 結果の例

たとえば、IDが`edee47f0-abe1-11ec-b9d1-00163e1e238f`であるエクスポートジョブの実行情報をクエリするには、次のようにします:

```SQL
SHOW EXPORT
WHERE QUERYID = "edee47f0-abe1-11ec-b9d1-00163e1e238f";
```

次の実行情報が返されます:

```SQL
     JobId: 14008
   QueryId: edee47f0-abe1-11ec-b9d1-00163e1e238f
     State: FINISHED
  Progress: 100%
  TaskInfo: {"partitions":["*"],"column separator":"\t","columns":["*"],"tablet num":10,"broker":"","coord num":1,"db":"db0","tbl":"tbl_simple","row delimiter":"\n","mem limit":2147483648}
      Path: hdfs://127.0.0.1:9000/users/230320/
CreateTime: 2023-03-20 11:16:14
 StartTime: 2023-03-20 11:16:17
FinishTime: 2023-03-20 11:16:26
   Timeout: 7200
```

結果のパラメータは次のように説明されています:

- `JobId`: エクスポートジョブのIDです。
- `QueryId`: クエリのIDです。
- `State`: エクスポートジョブのステータスです。

  有効な値:

  - `PENDING`: エクスポートジョブはスケジュール待ちです。
  - `EXPORTING`: エクスポートジョブは実行中です。
  - `FINISHED`: エクスポートジョブは正常に完了しました。
  - `CANCELLED`: エクスポートジョブは失敗しました。

- `Progress`: エクスポートジョブの進行状況です。進行状況はクエリプランの単位で測定されます。たとえば、エクスポートジョブが10個のクエリプランに分割され、そのうち3つが完了している場合、エクスポートジョブの進行状況は30%です。詳細については、["エクスポート > ワークフロー"](../../../unloading/Export.md#workflow)を参照してください。
- `TaskInfo`: エクスポートジョブの情報です。

  この情報は、次のキーで構成されるJSONオブジェクトです:

  - `partitions`: エクスポートされたデータが存在するパーティションです。このキーの値としてワイルドカード（`*`）が返された場合、エクスポートジョブはすべてのパーティションからデータをエクスポートするよう実行されます。
  - `column separator`: エクスポートされたデータファイルで使用される列のセパレータです。
  - `columns`: データがエクスポートされた列の名前です。
  - `tablet num`: エクスポートされるタブレットの総数です。
  - `broker`: v2.4以前では、このフィールドはエクスポートジョブで使用されるブローカーの名前を返すために使用されます。v2.5以降では、このフィールドは空の文字列を返します。詳細については、["エクスポート > バックグラウンド情報"](../../../unloading/Export.md#background-information)を参照してください。
  - `coord num`: エクスポートジョブが分割されるクエリプランの数です。
  - `db`: エクスポートデータが属するデータベースの名前です。
  - `tbl`: エクスポートデータが属するテーブルの名前です。
  - `row delimiter`: エクスポートされたデータファイルで使用される行のセパレータです。
  - `mem limit`: エクスポートジョブに許可される最大メモリ量です。単位: バイト。

- `Path`: エクスポートされたデータがリモートストレージに保存されているパスです。
- `CreateTime`: エクスポートジョブが作成された時間です。
- `StartTime`: エクスポートジョブがスケジュールされる開始時間です。
- `FinishTime`: エクスポートジョブが終了した時間です。
- `Timeout`: エクスポートジョブが予想よりもかかった時間です。単位: 秒。時間は`CreateTime`から数えられます。
- `ErrorMsg`: エクスポートジョブがエラーをスローした理由です。このフィールドは、エクスポートジョブがエラーに遭遇した場合にのみ返されます。

## 例

- 現在のデータベース内のすべてのエクスポートジョブをクエリ:

  ```SQL
  SHOW EXPORT;
  ```

- データベース`example_db`内でIDが`921d8f80-7c9d-11eb-9342-acde48001122`であるエクスポートジョブをクエリ:

  ```SQL
  SHOW EXPORT FROM example_db
  WHERE queryid = "921d8f80-7c9d-11eb-9342-acde48001122";
  ```

- データベース`example_db`内で`EXPORTING`状態のエクスポートジョブをクエリし、エクスポートジョブレコードを`StartTime`で昇順に並べ替えるよう指定:

  ```SQL
  SHOW EXPORT FROM example_db
  WHERE STATE = "exporting"
  ORDER BY StartTime ASC;
  ```

- データベース`example_db`内のすべてのエクスポートジョブをクエリし、エクスポートジョブレコードを`StartTime`で降順に並べ替えるよう指定:

  ```SQL
  SHOW EXPORT FROM example_db
  ORDER BY StartTime DESC;
  ```
