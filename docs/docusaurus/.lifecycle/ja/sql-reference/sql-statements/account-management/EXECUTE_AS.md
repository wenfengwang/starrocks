---
displayed_sidebar: "Japanese"
---

# 実行方法

## 説明

ユーザーを偽装する権限を取得した後は、EXECUTE AS ステートメントを使用して現在のセッションの実行コンテキストをそのユーザーに切り替えることができます。

このコマンドはv2.4からサポートされています。

## 構文

```SQL
EXECUTE AS ユーザー WITH NO REVERT
```

## パラメーター

`ユーザー`: ユーザーはすでに存在している必要があります。

## 使用上の注意

- EXECUTE AS ステートメントを呼び出す現在のログインユーザーは、他のユーザーを偽装する権限を与えられている必要があります。詳細については、[GRANT](../account-management/GRANT.md)を参照してください。
- EXECUTE AS ステートメントにはWITH NO REVERT句が含まれている必要があり、これは現在のセッションの実行コンテキストを元のログインユーザーに戻すことができないことを意味します。現在のセッションが終了するまで。

## 例

現在のセッションの実行コンテキストをユーザー`test2`に切り替える。

```SQL
EXECUTE AS test2 WITH NO REVERT;
```

切り替えが成功したら、`select current_user()`コマンドを実行して現在のユーザーを取得できます。

```SQL
select current_user();
+-----------------------------+
| CURRENT_USER()              |
+-----------------------------+
| 'default_cluster:test2'@'%' |
+-----------------------------+
```