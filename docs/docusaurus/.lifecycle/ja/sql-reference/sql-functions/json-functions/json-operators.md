---
displayed_sidebar: "Japanese"
---

# JSON演算子

StarRocksは以下のJSON比較演算子をサポートしています: `<`, `<=`, `>`, `>=`, `=`, `!=`。これらの演算子を使用してJSONデータをクエリできます。ただし、StarRocksでは`IN`を使用してJSONデータをクエリすることはできません。

- > 演算子のオペランドはいずれもJSON値である必要があります。

- > 演算子の1つのオペランドがJSON値である一方、もう1つがそうでない場合、演算時にJSON値でないオペランドはJSON値に変換されます。変換規則の詳細については、[CAST](./json-query-and-processing-functions/cast.md)を参照してください。

## 演算規則

JSON演算子は以下の演算規則に準拠しています:

- 演算子のオペランドが同じデータ型のJSON値である場合:
  - 両方のオペランドが基本データ型（NUMBER、STRING、BOOLなど）のJSON値の場合、演算子は基本データ型の算術規則に従って算術演算を実行します。

> 注意: 両方のオペランドが数値である場合でも、1つがDOUBLE値であり、もう1つがINT値である場合、演算子はINT値をDOUBLE値に変換します。

- 両方のオペランドが複合データ型（OBJECTやARRAYなど）のJSON値の場合、演算子は最初のオペランドのキーのシーケンスに基づいてオペランドのキーを辞書順に並べ替え、その後オペランド間のキーの値を比較します。

例1:

最初のオペランドは `{"a": 1, "c": 2}` で、2番目のオペランドは `{"b": 1, "a": 2}` です。この例では、演算子はオペランド間のキー `a` の値を比較します。最初のオペランドのキー `a` の値は `1` であり、2番目のオペランドのキー `a` の値は `2` です。値 `1` は値 `2` よりも大きいため、演算子は最初のオペランド `{"a": 1, "c": 2}` が2番目のオペランド `{"b": 1, "``a``": 2}` よりも小さいと結論付けます。

```plaintext
mysql> SELECT PARSE_JSON('{"a": 1, "c": 2}') < PARSE_JSON('{"b": 1, "a": 2} ');

       -> 1
```

例2:

最初のオペランドは `{"a": 1, "c": 2}` で、2番目のオペランドは `{"b": 1, "a": 1}` です。この例では、演算子はまずオペランド間のキー `a` の値を比較します。オペランドのキー `a` の値は両方とも `1` です。その後、演算子はオペランド間のキー `c` の値を比較します。2番目のオペランドにはキー `c` が含まれていません。したがって、演算子は最初のオペランド `{"a": 1, "c": 2}` が2番目のオペランド `{"b": 1, "a": 1}` よりも大きいと結論付けます。

```plaintext
mysql> SELECT PARSE_JSON('{"a": 1, "c": 2}') < PARSE_JSON('{"b": 1, "a": 1}');

       -> 0
```

- 演算子のオペランドが異なるデータ型のJSON値である場合、演算子は以下の算術規則に従ってオペランドを比較します: NULL < BOOLEAN < ARRAY < OBJECT < DOUBLE < INT < STRING.

```plaintext
mysql> SELECT PARSE_JSON('"a"') < PARSE_JSON('{"a": 1, "c": 2}');

       -> 0
```