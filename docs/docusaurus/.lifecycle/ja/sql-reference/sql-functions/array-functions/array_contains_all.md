---
displayed_sidebar: "Japanese"
---

# array_contains_all（array_contains_all）

## 説明

`arr1` が `arr2` の全要素を含んでいるか（つまり、`arr2` が `arr1` の部分集合であるか）をチェックします。はいの場合は1が返されます。いいえの場合は0が返されます。

## 構文

~~~Haskell
BOOLEAN array_contains_all(arr1, arr2)
~~~

## パラメーター

`arr`：比較する2つの配列です。この構文は `arr2` が `arr1` の部分集合かどうかをチェックします。

2つの配列の要素のデータ型は同じである必要があります。StarRocks でサポートされている配列要素のデータ型については、[ARRAY](../../../sql-reference/sql-statements/data-types/Array.md) を参照してください。

## 戻り値

BOOLEAN 型の値を返します。

`arr2` が `arr1` の部分集合である場合、1が返されます。それ以外の場合は0が返されます。

2つの配列のうちいずれかが NULL の場合、NULL が返されます。

## 使用上の注意

- 配列には `null` 要素が含まれる場合、`null` は値として処理されます。

- 空の配列はどんな配列の部分集合でもです。

- 2つの配列の要素の順序は異なっていても構いません。

## 例

1. `t1` という名前のテーブルを作成し、このテーブルにデータを挿入します。

    ~~~SQL
    CREATE TABLE t1 (
        c0 INT,
        c1 ARRAY<INT>,
        c2 ARRAY<INT>
    ) ENGINE=OLAP
    DUPLICATE KEY(c0)
    DISTRIBUTED BY HASH(c0);

    INSERT INTO t1 VALUES
        (1,[1,2,3],[1,2]),
        (2,[1,2,3],[1,4]),
        (3,NULL,[1]),
        (4,[1,2,null],NULL),
        (5,[1,2,null],[null]),
        (6,[2,3],[]);
    ~~~

2. このテーブルからデータをクエリします。

    ~~~Plain
    SELECT * FROM t1 ORDER BY c0;
    +------+------------+----------+
    | c0   | c1         | c2       |
    +------+------------+----------+
    |    1 | [1,2,3]    | [1,2]    |
    |    2 | [1,2,3]    | [1,4]    |
    |    3 | NULL       | [1]      |
    |    4 | [1,2,null] | NULL     |
    |    5 | [1,2,null] | [null]   |
    |    6 | [2,3]      | []       |
    +------+------------+----------+
    ~~~

3. 各行の `c2` がそれぞれの `c1` の部分集合かどうかをチェックします。

    ~~~Plaintext
    SELECT c0, c1, c2, array_contains_all(c1, c2) FROM t1 ORDER BY c0;
    +------+------------+----------+----------------------------+
    | c0   | c1         | c2       | array_contains_all(c1, c2) |
    +------+------------+----------+----------------------------+
    |    1 | [1,2,3]    | [1,2]    |                          1 |
    |    2 | [1,2,3]    | [1,4]    |                          0 |
    |    3 | NULL       | [1]      |                       NULL |
    |    4 | [1,2,null] | NULL     |                       NULL |
    |    5 | [1,2,null] | [null]   |                          1 |
    |    6 | [2,3]      | []       |                          1 |
    +------+------------+----------+----------------------------+
    ~~~

出力では、

行1では、`c2` は `c1` の部分集合であり、1が返されます。

行2では、`c2` は `c1` の部分集合ではないため、0が返されます。

行3では、`c1` が NULL なので、NULL が返されます。

行4では、`c2` が NULL なので、NULL が返されます。

行5では、2つの配列には `null` が含まれ、`null` は通常の値として処理されるため、`1` が返されます。

行6では、`c2` は空の配列であり、`c1` の部分集合と見なされます。したがって、`1` が返されます。
