```
---
displayed_sidebar: "English"
---

# date_trunc（日付トランク）

## Description（説明）

指定した年、日、時、または分などの日付部分に基づいて時間値を切り捨てます。

StarRocksは、年、四半期、月、週、日、および時間の関数を提供し、指定した日付部分を抽出することができます。

## Syntax（構文）

```Haskell
DATETIME date_trunc(VARCHAR fmt, DATETIME|DATE datetime)
```

## Parameters（パラメータ）

- `datetime`: 切り捨てる時間であり、DATETIME型またはDATE型にすることができます。日付と時刻が存在していない場合はNULLが返されます。例えば、`2021-02-29 11:12:13`は日付として存在していないため、NULLが返されます。

- `fmt`: 日付部分であり、`datetime`が切り捨てられる精度を示します。この値はVARCHAR定数である必要があります。

  `fmt`は以下の表にリストされている値に設定する必要があります。値が間違っている場合、エラーが返されます。

  `datetime`がDATE値の場合、`fmt`は`year`、`quarter`、`month`、`week`、または`day`にのみ設定できます。それ以外の日付単位を`fmt`に設定した場合、たとえば`hour`のような場合、エラーが報告されます。Example 5を参照してください。

| 値      | 説明                                                      |
| ------- | -------------------------------------------------------- |
| second  | 秒に切り捨てる。                                           |
| minute  | 分に切り捨てる。秒部分は0になります。                      |
| hour    | 時間に切り捨てる。分と秒部分は0になります。                  |
| day     | 日に切り捨てる。時間部分は0になります。                      |
| week    | `datetime`が当てはまる週の最初の日に切り捨てる。時間部分は0になります。 |
| month   | `datetime`が当てはまる月の最初の日に切り捨てる。時間部分は0になります。 |
| quarter | `datetime`が当てはまる四半期の最初の日に切り捨てる。時間部分は0になります。 |
| year    | `datetime`が当てはまる年の最初の日に切り捨てる。時間部分は0になります。     |

## Return value（戻り値）

DATETIME型の値を返します。

`datetime`がDATE型であり、`fmt`が`hour`、`minute`、または`second`に設定されている場合、返される値の時間部分はデフォルトで`00:00:00`になります。

## Examples（例）

Example 1: 入力時間を分に切り捨てる。

```Plain
select date_trunc("minute", "2020-11-04 11:12:13");
+---------------------------------------------+
| date_trunc('minute', '2020-11-04 11:12:13') |
+---------------------------------------------+
| 2020-11-04 11:12:00                         |
+---------------------------------------------+
```

Example 2: 入力時間を時間に切り捨てる。

```Plain
select date_trunc("hour", "2020-11-04 11:12:13");
+-------------------------------------------+
| date_trunc('hour', '2020-11-04 11:12:13') |
+-------------------------------------------+
| 2020-11-04 11:00:00                       |
+-------------------------------------------+
```

Example 3: 入力時間を週の最初の日に切り捨てる。

```Plain
select date_trunc("week", "2020-11-04 11:12:13");
+-------------------------------------------+
| date_trunc('week', '2020-11-04 11:12:13') |
+-------------------------------------------+
| 2020-11-02 00:00:00                       |
+-------------------------------------------+
```

Example 4: 入力時間を年の最初の日に切り捨てる。

```Plain
select date_trunc("year", "2020-11-04 11:12:13");
+-------------------------------------------+
| date_trunc('year', '2020-11-04 11:12:13') |
+-------------------------------------------+
| 2020-01-01 00:00:00                       |
+-------------------------------------------+
```

Example 5: DATE値を時間に切り捨てる。エラーが返されます。

```Plain
select date_trunc("hour", cast("2020-11-04" as date));

ERROR 1064 (HY000): Getting analyzing error from line 1, column 26 to line 1, column 51. Detail message: date_trunc function can't support argument other than year|quarter|month|week|day.
```