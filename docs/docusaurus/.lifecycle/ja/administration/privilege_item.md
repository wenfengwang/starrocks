---
displayed_sidebar: "Japanese"
---

# StarRocksでサポートされる権限

ユーザーまたはロールに付与された権限は、そのユーザーまたはロールが特定のオブジェクト上で実行できる操作を決定します。権限は、データセキュリティを保護するための細かいアクセス制御を実装するために使用できます。

このトピックでは、StarRocksが提供するオブジェクト毎の権限とその意味について説明します。権限は[GRANT](../sql-reference/sql-statements/account-management/GRANT.md)および[REVOKE](../sql-reference/sql-statements/account-management/REVOKE.md)を使用して付与および取り消すことができます。オブジェクトに付与できる権限はオブジェクトの種類に特有です。たとえば、テーブル権限とデータベース権限は異なります。

> 注意: このトピックで説明される権限はv3.0からのみ利用可能です。v3.0の権限フレームワークと構文は、以前のバージョンと互換性がありません。v3.0へのアップグレード後、特定の操作に関連する以外のほとんどの元の権限は維持されます。詳細な違いについては、トピックの最後にある[アップグレードノート](#upgrade-notes)を参照してください。

## 権限リスト

このセクションでは、さまざまなオブジェクトで利用可能な権限について説明します。

### SYSTEM

| 権限               | 説明                                                  |
| ------------------- | ------------------------------------------------------ |
| NODE                | ノードの操作、例えば、ノードの追加、削除、または運用停止などを行います。クラスターセキュリティを確保するため、この権限はユーザーやロールに直接付与することはできません。`cluster_admin`ロールにはこの権限があります。 |
| GRANT               | ユーザーまたはロールの作成、変更、またはユーザーまたはロールに権限を付与する操作を行います。この権限はユーザーやロールに直接付与することはできません。`user_admin`ロールにはこの権限があります。 |
| CREATE RESOURCE GROUP   | リソースグループを作成します。                                    |
| CREATE RESOURCE         | Sparkロードジョブや外部テーブルのためのリソースを作成します。    |
| CREATE EXTERNAL CATALOG | 外部カタログを作成します。                                 |
| PLUGIN                  | プラグインのインストールまたはアンインストールを行います。                             |
| REPOSITORY              | リポジトリを作成、削除、または表示します。                     |
| BLACKLIST               | SQLのブラックリストを作成、削除、または表示します。                |
| FILE                    | ファイルを作成、削除、または表示します。                            |
| OPERATE                 | レプリカ、構成項目、変数、およびトランザクションを管理します。 |
| CREATE GLOBAL FUNCTION  | グローバルUDFを作成します。                 |
| CREATE STORAGE VOLUME  | リモートストレージシステムのためのストレージボリュームを作成します。    |

### RESOURCE GROUP

| 権限 | 説明                                       |
| ----- | --------------------------------------------- |
| ALTER | リソースグループの分類子を追加または削除します。 |
| DROP  | リソースグループを削除します。                         |
| ALL   | リソースグループに対する上記のすべての権限を持ちます。 |

### RESOURCE

| 権限 | 説明                              |
| ----- | ---------------------------------------- |
| USAGE | リソースを使用します。             |
| ALTER | リソースを変更します。             |
| DROP  | リソースを削除します。             |
| ALL   | リソースに対する上記のすべての権限を持ちます。 |

### USER

| 権限     | 説明                                     |
| --------- | ------------------------------------------ |
| IMPERSONATE | ユーザーAがユーザーBとして操作を実行できるようにします。 |

### GLOBAL FUNCTION (グローバルUDF)

| 権限 | 説明                                 |
| ----- | ------------------------------------------- |
| USAGE | クエリで関数を使用します。               |
| DROP  | 関数を削除します。                         |
| ALL   | 関数に対する上記のすべての権限を持ちます。 |

### CATALOG

| オブジェクト                    | 権限                                             | 説明                                    |
| --------------------------- | ----------------------------------------------------- | --------------------------------------------- |
| CATALOG (内部カタログ) | USAGE                                                 | 内部カタログ（default_catalog）を使用します。   |
| CATALOG (内部カタログ)             | CREATE DATABASE           | 内部カタログにデータベースを作成します。                                   |
| CATALOG (内部カタログ)                        | ALL  |               内部カタログに対する上記のすべての権限を持ちます。                           |
| CATALOG (外部カタログ)  | USAGE                                                 | 外部カタログを使用してその中のテーブルを表示します。 |
| CATALOG (外部カタログ)                        |   DROP                       |    外部カタログを削除します。                                   |
| CATALOG (外部カタログ)                         |  ALL   |              外部カタログに対する上記のすべての権限を持ちます。                                |

> 注意: StarRocksの内部カタログは削除できません。

### DATABASE

| 権限               | 説明                                                  |
| ------------------------ | ------------------------------------------------------------ |
| ALTER                    | データベースのプロパティを設定したり、データベース名を変更したり、データベースのクォータを設定したりします。 |
| DROP                     | データベースを削除します。                                          |
| CREATE TABLE             | データベース内でテーブルを作成します。                                |
| CREATE VIEW              | ビューを作成します。                                              |
| CREATE FUNCTION          | 関数を作成します。                                          |
| CREATE MATERIALIZED VIEW | マテリアライズドビューを作成します。                                 |
| ALL                      | データベースに対する上記のすべての権限を持ちます。                  |

### TABLE

| 権限 | 説明                                                  |
| --------- | ------------------------------------------------------------ |
| ALTER     | テーブルを変更したり、外部テーブルのメタデータをリフレッシュしたりします。 |
| DROP      | テーブルを削除します。                                               |
| SELECT    | テーブル内のデータをクエリします。                                     |
| INSERT    | テーブルにデータを挿入します。                                       |
| UPDATE    | テーブル内のデータを更新します。                                    |
| EXPORT    | StarRocksテーブルからデータをエクスポートします。                         |
| DELETE    | 指定された条件に基づいてテーブルからデータを削除するか、テーブルからすべてのデータを削除します。 |
| ALL       | テーブルに対する上記のすべての権限を持ちます。                      |

### VIEW

| 権限 | 説明                             |
| --------- | --------------------------------------- |
| SELECT    | ビュー内のデータをクエリします。         |
| ALTER     | ビューの定義を変更します。            |
| DROP      | ロジカルビューを削除します。          |
| ALL       | ビューに対する上記のすべての権限を持ちます。 |

### MATERIALIZED VIEW

| 権限 | 説明                                       |
| --------- | ------------------------------------------------- |
| SELECT    | クエリを高速化するためのマテリアライズドビューをクエリします。 |
| ALTER     | マテリアライズドビューを変更します。              |
| REFRESH   | マテリアライズドビューをリフレッシュします。        |
| DROP      | マテリアライズドビューを削除します。              |
| ALL       | マテリアライズドビューに対する上記のすべての権限を持ちます。 |

### FUNCTION (データベースレベルUDF)

| 権限 | 説明                             |
| ------- | ------------------------------------------|
| USAGE | 関数を使用します。                            |
| DROP  | 関数を削除します。                         |
| ALL   | 関数に対する上記のすべての権限を持ちます。 |

### STORAGE VOLUME

| 権限 | 説明                             |
| ------- | ------------------------------------------------------------ |
| ALTER | ストレージボリュームの資格情報プロパティ、コメント、または状態（有効）を変更します。      |
| DROP  | ストレージボリュームを削除します。               |
| USAGE | ストレージボリュームを記述し、ストレージボリュームをデフォルトのストレージボリュームとして設定します。   |
| ALL   | ストレージボリュームに対する上記のすべての権限を持ちます。  |

## アップグレードノート

v2.xからv3.0へのアップグレード時、新しい権限システムの導入により、一部の操作が実行できなくなることがあります。次の表は、アップグレード前後の変更を説明しています。

| **操作**                     | **関連するコマンド**                 | **アップグレード前**                                                 | **アップグレード後**                                                   |
| --------------------------- | ------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| テーブルの変更               | ALTER TABLE, CANCEL ALTER TABLE | ユーザーがテーブルまたはそのテーブルが属するデータベースの`LOAD_PRIV`権限を持っている場合、`ALTER TABLE`および`CANCEL ALTER TABLE`操作を実行できます。 | これらの2つの操作を実行するには、テーブルに対するALTER権限を持っている必要があります。 |
| 外部テーブルのリフレッシュ     | REFRESH EXTERNAL TABLE          | ユーザーが外部テーブルの`LOAD_PRIV`権限を持っている場合、外部テーブルをリフレッシュできます。| この操作を実行するには、外部テーブルに対するALTER権限を持っている必要があります。|
| バックアップとリストア         | BACKUP, RESTORE                 | ユーザーが`LOAD_PRIV`権限を持っているデータベースのバックアップとリストアを実行できます。| アップグレード後、管理者はユーザーに再びバックアップおよびリストア権限を付与する必要があります。|
| 削除後の復元                 | RECOVER                         | データベースおよびテーブルに対する`ALTER_PRIV`、`CREATE_PRIV`、および`DROP_PRIV`権限を持っているユーザーは、データベースとテーブルを復元できます。 | データベースを復元するには、default_catalogに対するCREATE DATABASE権限が必要です。データベースに対するCREATE TABLE権限およびテーブルに対するDROP権限も必要です。|
| ユーザーの作成と変更           | CREATE USER, ALTER USER         | データベースに対する`GRANT_PRIV`権限を持っているユーザーは、ユーザーを作成および変更できます。| ユーザーを作成および変更するには、`user_admin`ロールが必要です。|
| 権限の付与と取り消し           | GRANT, REVOKE                   | オブジェクトに対する`GRANT_PRIV`権限を持っているユーザーは、そのオブジェクトに対する権限を他のユーザーやロールに付与できます。| アップグレード後、権限を付与することができます。新しい権限システムでは以下の点に注意してください:<ul><li>他のユーザーやロールに権限を付与するには、`user_admin`ロールが必要です。</li><li>GRANT文に`WITH GRANT OPTION`が含まれている場合、その文に関連する権限を他のユーザーやロールに付与できます。</li></ul> |

v2.xでは、StarRocksはロールベースのアクセス制御（RBAC）を完全に実装していません。ユーザーにロールを割り当てると、StarRocksはそのユーザーにロール自体ではなく、ロールのすべての権限を直接付与します。したがって、実際にはユーザーがロールを所有しているわけではありません。


```
In v3.0, StarRocks renovates its privilege system. After an upgrade to v3.0, your original roles are retained but there is still no ownership between users and roles. If you want to use the new RBAC system, perform the GRANT operation to assign roles and privileges.
```