---
displayed_sidebar: "Japanese"
---

# StarRocksがサポートする特権

ユーザーまたはロールに付与された特権は、ユーザーまたはロールが特定のオブジェクトで実行できる操作を決定します。特権は、データセキュリティを保護するための細かいアクセス制御を実装するために使用できます。

このトピックでは、StarRocksが異なるオブジェクトで提供する特権とその意味について説明します。特権は、[GRANT](../sql-reference/sql-statements/account-management/GRANT.md)および[REVOKE](../sql-reference/sql-statements/account-management/REVOKE.md)を使用して付与および取り消しを行います。オブジェクトに付与できる特権は、オブジェクトタイプに固有です。例えば、テーブルの特権はデータベースの特権とは異なります。

> 注意: このトピックで説明する特権は、v3.0からのみ利用可能です。v3.0の特権フレームワークおよび構文は、以前のバージョンと後方互換性がありません。v3.0にアップグレードした後、元の特権のほとんどはそのまま保持されますが、特定の操作に関するものを除きます。詳細な違いについては、このトピックの最後の[アップグレードノート](#upgrade-notes)を参照してください。

## 特権リスト

このセクションでは、異なるオブジェクトで利用可能な特権について説明します。

### SYSTEM

| 特権                    | 説明                                                       |
| ----------------------- | ------------------------------------------------------------ |
| NODE                    | ノードを操作し、ノードの追加、削除、休止状態にするなどの操作を行います。クラスタのセキュリティを確保するため、この特権は直接ユーザーやロールに付与することはできません。`cluster_admin`ロールにこの特権があります。 |
| GRANT                   | ユーザーやロールを作成し、ユーザーやロールを変更し、ユーザーやロールに特権を付与します。この特権は直接ユーザーやロールに付与することはできません。`user_admin`ロールにこの特権があります。 |
| CREATE RESOURCE GROUP   | リソースグループを作成します。                                    |
| CREATE RESOURCE         | Spark Loadのジョブまたは外部テーブルのリソースを作成します。    |
| CREATE EXTERNAL CATALOG | 外部カタログを作成します。                                 |
| PLUGIN                  | プラグインのインストールまたはアンインストールを行います。                             |
| REPOSITORY              | リポジトリの作成、削除、または表示を行います。                     |
| BLACKLIST               | SQLのブラックリストの作成、削除、または表示を行います。                |
| FILE                    | ファイルの作成、削除、または表示を行います。                            |
| OPERATE                 | レプリカ、構成アイテム、変数、およびトランザクションを管理します。 |
| CREATE GLOBAL FUNCTION  | グローバルUDFを作成します。                           |
| CREATE STORAGE VOLUME  | リモートストレージシステムのためのストレージボリュームを作成します。    |

### RESOURCE GROUP

| 特権 | 説明                                       |
| --------- | ------------------------------------------------- |
| ALTER     | リソースグループの分類子を追加または削除します。 |
| DROP      | リソースグループを削除します。                         |
| ALL       | リソースグループに上記のすべての特権があります。  |

### RESOURCE

| 特権 | 説明                                |
| --------- | ------------------------------------------ |
| USAGE     | リソースを使用します。                           |
| ALTER     | リソースを変更します。                        |
| DROP      | リソースを削除します。                        |
| ALL       | リソースに上記のすべての特権があります。 |

### USER

| 特権   | 説明                                    |
| ----------- | ---------------------------------------------- |
| IMPERSONATE | ユーザーAがユーザーBとして操作を行うことを許可します。 |

### GLOBAL FUNCTION (Global UDFs)

| 特権 | 説明                                 |
| --------- | ------------------------------------------- |
| USAGE     | クエリで関数を使用します。               |
| DROP      | 関数を削除します。                       |
| ALL       | 関数に上記のすべての特権があります。 |

### CATALOG

| オブジェクト                      | 特権                                             | 説明                                    |
| --------------------------- | ----------------------------------------------------- | ---------------------------------------------- |
| CATALOG（内部カタログ） | USAGE                                                 | 内部カタログ（default_catalog）を使用します。   |
| CATALOG（内部カタログ）             | CREATE DATABASE           |        内部カタログにデータベースを作成します。                                   |
| CATALOG（内部カタログ）                        | ALL  |               内部カタログに上記のすべての特権があります。                           |
| CATALOG（外部カタログ）  | USAGE                                                 | 外部カタログを使用して、その中のテーブルを表示します。 |
| CATALOG（外部カタログ）                        |   DROP                       |    外部カタログを削除します。                                   |
| CATALOG（外部カタログ）                         |  ALL   |              外部カタログに上記のすべての特権があります。                                |

> ノート: StarRocksの内部カタログは削除できません。

### DATABASE

| 特権                | 説明                                                  |
| ------------------------ | ------------------------------------------------------------ |
| ALTER                    | データベースのプロパティを設定し、データベースの名前を変更し、データベースのクォータを設定します。 |
| DROP                     | データベースを削除します。                                          |
| CREATE TABLE             | データベースにテーブルを作成します。                                |
| CREATE VIEW              | ビューを作成します。                                              |
| CREATE FUNCTION          | 関数を作成します。                                          |
| CREATE MATERIALIZED VIEW | マテリアライズドビューを作成します。                                 |
| ALL                      | データベースに上記のすべての特権があります。                  |

### TABLE

| 特権 | 説明                                                  |
| --------- | ------------------------------------------------------------ |
| ALTER     | テーブルを変更するか、外部テーブルのメタデータをリフレッシュします。 |
| DROP      | テーブルを削除します。                                                |
| SELECT    | テーブルのデータをクエリします。                                      |
| INSERT    | テーブルにデータを挿入します。                                        |
| UPDATE    | テーブルのデータを更新します。                                        |
| EXPORT    | StarRocksテーブルからデータをエクスポートします。                      |
| DELETE    | 指定された条件に基づいてテーブルからデータを削除したり、テーブルからすべてのデータを削除します。 |
| ALL       | テーブルに上記のすべての特権があります。                          |

### VIEW

| 特権 | 説明                             |
| --------- | --------------------------------------- |
| SELECT    | ビューのデータをクエリします。              |
| ALTER     | ビューの定義を変更します。                |
| DROP      | 論理ビューを削除します。                 |
| ALL       | ビューに上記のすべての特権があります。 |

### MATERIALIZED VIEW

| 特権 | 説明                                          |
| --------- | ---------------------------------------------------- |
| SELECT    | クエリの高速化のためにマテリアライズドビューをクエリします。|
| ALTER     | マテリアライズドビューを変更します。               |
| REFRESH   | マテリアライズドビューをリフレッシュします。         |
| DROP      | マテリアライズドビューを削除します。               |
| ALL       | マテリアライズドビューに上記のすべての特権があります。 |

### FUNCTION (Database-level UDFs)

| 特権 | 説明                             |
| ------- | ------------------------------------------|
| USAGE | 関数を使用します。                           |
| DROP  | 関数を削除します。                         |
| ALL   | 関数に上記のすべての特権があります。 |

### STORAGE VOLUME

| 特権 | 説明                             |
| ------- | ------------------------------------------------------------ |
| ALTER | ストレージボリュームの資格情報プロパティ、コメント、またはステータス（有効）を変更します。      |
| DROP  | ストレージボリュームを削除します。               |
| USAGE | ストレージボリュームの説明を行い、デフォルトのストレージボリュームとして設定します。   |
| ALL   | ストレージボリュームに上記のすべての特権があります。  |

## アップグレードノート

v2.xからv3.0にアップグレードする際、新しい特権システムの導入により、一部の操作が実行できなくなることがあります。次の表では、アップグレード前とアップグレード後の変更点について説明します。

| **操作**               | **関連するコマンド**           | **アップグレード前**                                                   | **アップグレード後**                                                    |
| --------------------------- | ------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| テーブルを変更する              | ALTER TABLE、CANCEL ALTER TABLE | テーブルの`LOAD_PRIV`特権を持つユーザーまたはテーブルが属するデータベースに`ALTER TABLE`および`CANCEL ALTER TABLE`操作を実行できます。 | これらの2つの操作を実行するには、テーブルに対してALTER特権が必要です。 |
| 外部テーブルをリフレッシュする | REFRESH EXTERNAL TABLE          | 外部テーブルの`LOAD_PRIV`特権を持つユーザーが外部テーブルをリフレッシュできます。 | この操作を実行するには、外部テーブルに対してALTER特権が必要です。 |
| バックアップとリストア          | BACKUP、RESTORE                 | データベースの`LOAD_PRIV`特権を持つユーザーがデータベースまたはデータベース内の任意のテーブルをバックアップおよびリストアできます。 | アップグレード後、管理者はユーザーにバックアップおよびリストアの特権を再度付与する必要があります。 |
| 削除後のリカバリ          | RECOVER                         | データベースとテーブルに対する`ALTER_PRIV`、`CREATE_PRIV`、および`DROP_PRIV`特権を持つユーザーがデータベースとテーブルをリカバリできます。 | データベースを復旧するには、`default_catalog`に対するCREATE DATABASE特権が必要です。データベースに対するCREATE TABLE特権とテーブルに対するDROP特権が必要です。 |
| ユーザーの作成と変更     | CREATE USER、ALTER USER         | データベースの`GRANT_PRIV`特権を持つユーザーがユーザーを作成および変更できます。 | ユーザーを作成および変更するには、`user_admin`ロールが必要です。 |
| 特権を付与および取り消し | GRANT、REVOKE                   | オブジェクトに対する`GRANT_PRIV`特権を持つユーザーがオブジェクトに対する特権を他のユーザーやロールに付与できます。 | アップグレード後、アップグレード前にすでに持っていた特権を他のユーザーやロールに付与することができます。<br />新しい特権システムでは:<ul><li>オブジェクトに対する特権を他のユーザーやロールに付与するには、`user_admin`ロールが必要です。</li><li>GRANTステートメントに`WITH GRANT OPTION`が含まれている場合、そのステートメントで関連する特権を他のユーザーやロールに付与できます。 </li></ul>|

v2.xでは、StarRocksはロールベースのアクセス制御（RBAC）を完全に実装していません。ユーザーにロールを割り当てると、StarRocksはロールそのものではなく、ユーザーにロールのすべての特権を直接付与します。したがって、ユーザーは実際にはロールを所有していません。
```
In v3.0, StarRocks renovates its privilege system. After an upgrade to v3.0, your original roles are retained but there is still no ownership between users and roles. If you want to use the new RBAC system, perform the GRANT operation to assign roles and privileges.
```