
![DLA](../1.1-8-dla.png)

除了对本地数据进行高效分析之外，StarRocks 还可以作为计算引擎，分析存储在 Apache Hive、Apache Iceberg、Apache Hudi 和 Delta Lake 等数据湖中的数据。StarRocks 的一个关键特性是它的外部目录，这一目录作为与外部维护的元数据存储的连接。这一功能为用户提供了无缝查询外部数据源的能力，免除了数据迁移的需求。因此，用户可以分析存储在不同系统如 HDFS 和 Amazon S3 上的数据，这些数据可以是 Parquet、ORC、CSV 等多种文件格式。

上图展示了一个数据湖分析场景，其中 StarRocks 负责数据计算和分析，数据湖则负责数据的存储、组织和维护。数据湖允许用户以开放的存储格式存储数据，并使用灵活的模式来为各种 BI、AI、即席查询和报告用例生成“单一真相来源”的报告。StarRocks 充分发挥了其矢量化引擎和 CBO 的优势，显著提升了数据湖分析的性能。