---
displayed_sidebar: English
---

# any_match

## 描述

返回数组中是否有任何元素与给定的谓词匹配。

- 如果一个或多个元素与谓词匹配，则返回 `true`（1）。

- 如果所有元素都不匹配，则返回 `false`（0）（特殊情况是数组为空时）。

- 如果谓词对于一个或多个元素返回 NULL，并且对于所有其他元素返回 `false`，则返回 NULL。

从 v3.0.6 开始支持此功能。

## 语法

```Haskell
any_match(lambda_function, arr1, arr2...)
```

返回 `arr1` 中是否有任何元素与 lambda 函数中的给定谓词匹配。

## 参数

- `arr1`：要匹配的数组。

- `arrN`：lambda 函数中使用的可选数组。

- `lambda_function`：用于匹配值的 Lambda 函数。

## 返回值

返回一个 BOOLEAN 值。

## 使用说明

- lambda 函数遵循 [array_map()](array_map.md) 中的使用说明。
- 如果输入数组为 null 或 lambda 函数结果为 null，则返回 null。
- 如果 `arr1` 为空，则返回 `false`。
- 要将此功能应用于 MAP，请将 `any_match((k,v)->k>v,map)` 重写为 `any_match(map_values(transform_values((k,v)->k>v, map)))`。例如，`select any_match(map_values(transform_values((k,v)->k>v, map{2:1})));` 返回 1。

## 例子

检查 `x` 中是否有任何元素小于 `y` 中的元素。

```Plain
select any_match((x,y) -> x < y, [1,2,8], [4,5,6]);
+--------------------------------------------------+
| any_match((x, y) -> x < y, [1, 2, 8], [4, 5, 6]) |
+--------------------------------------------------+
|                                                1 |
+--------------------------------------------------+

select any_match((x,y) -> x < y, [11,12,8], [4,5,6]);
+----------------------------------------------------+
| any_match((x, y) -> x < y, [11, 12, 8], [4, 5, 6]) |
+----------------------------------------------------+
|                                                  0 |
+----------------------------------------------------+

select any_match((x,y) -> x < y, [11,12,null], [4,5,6]);
+-------------------------------------------------------+
| any_match((x, y) -> x < y, [11, 12, NULL], [4, 5, 6]) |
+-------------------------------------------------------+
|                                                  NULL |
+-------------------------------------------------------+

select any_match((x,y) -> x < y, [], []);
+------------------------------------+
| any_match((x, y) -> x < y, [], []) |
+------------------------------------+
|                                  0 |
+------------------------------------+

select any_match((x,y) -> x < y, null, [4,5,6]);
+---------------------------------------------+
| any_match((x, y) -> x < y, NULL, [4, 5, 6]) |
+---------------------------------------------+
|                                        NULL |
+---------------------------------------------+