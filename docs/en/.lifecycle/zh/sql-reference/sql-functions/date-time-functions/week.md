---
displayed_sidebar: English
---

# 周

## 描述

返回给定日期的周数。此函数的工作方式与 MySQL 中的 WEEK 函数相同。

从 v2.3 开始支持此功能。

## 语法

```Haskell
INT WEEK(DATETIME|DATE date, INT mode)
```

## 参数

- `date`：支持的数据类型为 DATETIME 和 DATE。

- `mode`：可选。支持的数据类型为 INT。此参数用于指定计算周数的逻辑，即周的起始日期是周日还是周一，以及返回值的范围是0~53还是1~53。取值范围：0~7。默认值：`0`。如果未指定此参数，默认使用 `0`。下表描述了此参数的工作原理。

| 模式 | 一周的第一天 | 范围 | 第 1 周是第一周 ……    |
| :--- | :---------------- | :---- | :---------------------------- |
| 0    | 星期日            | 0-53  | 今年有一个星期天    |
| 1    | 星期一            | 0-53  | 今年有4天或更长时间 |
| 2    | 星期日            | 1-53  | 今年有一个星期天    |
| 3    | 星期一            | 1-53  | 今年有4天或更长时间 |
| 4    | 星期日            | 0-53  | 今年有4天或更长时间 |
| 5    | 星期一            | 0-53  | 今年有一个星期一    |
| 6    | 星期日            | 1-53  | 今年有4天或更长时间 |
| 7    | 星期一            | 1-53  | 今年有一个星期一    |

## 返回值

返回 INT 类型的值。取值范围：0~53。具体范围根据 `mode` 参数确定。如果 `date` 的值无效或输入值为空，则返回 `NULL`。

## 例子

计算 `2007-01-01` 的周数。`2007-01-01` 在日历上是星期一。

- `mode` 设置为 `0`，返回 `0`。一周从周日开始。`2007-01-01` 是星期一，不能是第1周。因此返回`0`。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 0);
+-----------------------+
| week('2007-01-01', 0) |
+-----------------------+
|                     0 |
+-----------------------+
1 row in set (0.02 sec)
```

- `mode` 设置为 `1`，返回 `1`。一周从星期一开始，`2007-01-01` 是星期一。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 1);
+-----------------------+
| week('2007-01-01', 1) |
+-----------------------+
|                     1 |
+-----------------------+
1 row in set (0.02 sec)
```

- `mode` 设置为 `2`，返回 `53`。一周从周日开始。然而，`2007-01-01` 是星期一，取值范围为1~53。因此返回`53`，表示这是上一年的最后一周。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 2);
+-----------------------+
| week('2007-01-01', 2) |
+-----------------------+
|                    53 |
+-----------------------+
1 row in set (0.01 sec)
```
