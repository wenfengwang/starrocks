---
displayed_sidebar: English
---

# 周数

## 描述

返回给定日期的周数。该函数的工作方式与 MySQL 中的 WEEK 函数相同。

该函数从 v2.3 版本开始支持。

## 语法

```Haskell
INT WEEK(DATETIME|DATE date, INT mode)
```

## 参数

- `date`：支持的数据类型为 DATETIME 和 DATE。

- `mode`：可选。支持的数据类型是 INT。该参数用于指定计算周数的逻辑，即周是从星期日开始还是从星期一开始，以及返回值的范围是 0~53 还是 1~53。取值范围：0~7。默认值：`0`。如果不指定该参数，则默认使用模式 `0`。下表描述了该参数的工作原理。

|Mode|First day of week|Range|Week 1 is the first week …|
|---|---|---|---|
|0|星期日|0-53|含有星期日的那一年|
|1|星期一|0-53|该年有 4 天或以上|
|2|星期日|1-53|含有星期日的那一年|
|3|星期一|1-53|该年有 4 天或以上|
|4|星期日|0-53|该年有 4 天或以上|
|5|星期一|0-53|含有星期一的那一年|
|6|星期日|1-53|该年有 4 天或以上|
|7|星期一|1-53|含有星期一的那一年|

## 返回值

返回 INT 类型的值。取值范围：0~53。具体范围根据 `mode` 参数确定。如果 `date` 值无效或输入值为空，则返回 `NULL`。

## 示例

计算 `2007-01-01` 的周数。`2007-01-01` 是日历上的星期一。

- `mode` 设置为 `0`，返回 0。周从星期日开始。`2007-01-01` 是星期一，不能是第 1 周。因此，返回 0。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 0);
+-----------------------+
| week('2007-01-01', 0) |
+-----------------------+
|                     0 |
+-----------------------+
1 row in set (0.02 sec)
```

- `mode` 设置为 `1`，返回 1。周从星期一开始，`2007-01-01` 是星期一。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 1);
+-----------------------+
| week('2007-01-01', 1) |
+-----------------------+
|                     1 |
+-----------------------+
1 row in set (0.02 sec)
```

- `mode` 设置为 `2`，返回 53。周从星期日开始。但 `2007-01-01` 是星期一，取值范围为 1~53。因此，返回 53，表明这是上一年的最后一周。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 2);
+-----------------------+
| week('2007-01-01', 2) |
+-----------------------+
|                    53 |
+-----------------------+
1 row in set (0.01 sec)
```