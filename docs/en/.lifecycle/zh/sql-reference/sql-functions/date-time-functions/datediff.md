---
displayed_sidebar: English
---

# 日期差

## 描述

计算两个日期值（`expr1 - expr2`）之间的差值，并以天为单位返回结果。`expr1`和`expr2`是有效的DATE或DATETIME表达式。

注意：计算中仅使用值的日期部分。

datediff和[days_diff的区别](./days_diff.md)：

|函数|行为|例子|
|---|---|---|
|datediff|精确到天|'2020-12-25 23:00:00'和'2020-12-24 23:00:01'之间的差值为1。|
|days_diff|精确到秒，并向下取整到最接近的整数|'2020-12-25 23:00:00'和'2020-12-24 23:00:01'之间的差值为0。|

datediff和[date_diff](./date_diff.md)的区别在于date_diff支持`unit`参数，该参数可以返回指定单位中两个日期值之间的差值。

## 语法

```Haskell
INT DATEDIFF(DATETIME expr1, DATETIME expr2)
```

## 例子

```Plain Text
MySQL > select datediff(CAST('2007-12-31 23:59:59' AS DATETIME), CAST('2007-12-30' AS DATETIME));
+-----------------------------------------------------------------------------------+
| datediff(CAST('2007-12-31 23:59:59' AS DATETIME), CAST('2007-12-30' AS DATETIME)) |
+-----------------------------------------------------------------------------------+
|                                                                                 1 |
+-----------------------------------------------------------------------------------+

MySQL > select datediff(CAST('2010-11-30 23:59:59' AS DATETIME), CAST('2010-12-31' AS DATETIME));
+-----------------------------------------------------------------------------------+
| datediff(CAST('2010-11-30 23:59:59' AS DATETIME), CAST('2010-12-31' AS DATETIME)) |
+-----------------------------------------------------------------------------------+
|                                                                               -31 |
+-----------------------------------------------------------------------------------+
```

## 引用

[date_diff](./date_diff.md)
