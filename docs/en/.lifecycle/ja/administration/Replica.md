---
displayed_sidebar: "Japanese"
---

# レプリカ管理

## 用語

* Tablet: テーブルの論理的なスライスであり、テーブルには複数のテーブルが存在します。
* Replica: Tabletのコピーであり、デフォルトで1つのTabletに対して3つのレプリカがあります。
* Healthy Replica: バックエンドが稼働しており、バージョンが完全なレプリカです。
* TabletChecker (TC): 定期的にすべてのTabletをスキャンし、その状態に基づいてTabletSchedulerにTabletを送信するバックグラウンドスレッドです。
* TabletScheduler (TS): TabletCheckerによって送信されたTabletを処理し、クラスタのレプリカのバランスも行うバックグラウンドスレッドです。
* TabletSchedCtx (TSC): Tabletのラッパーです。TCによって選択されたTabletはTSCとしてカプセル化され、TSに送信されます。
* Storage Medium: StarRocksは、SSDおよびHDDを含むさまざまなストレージメディアをサポートしています。レプリカのスケジューリングは、異なるストレージメディアによって異なります。

## ステータス

### レプリカステータス

レプリカの健康状態は次のとおりです。

* **BAD**

レプリカが破損しています。これには、ディスクの障害、バグなどによるレプリカの復旧不能な損傷が含まれます。

* **VERSION_MISSING**

各バッチのインポートは、データの1つのバージョンに対応します。1つのレプリカには、いくつかの連続したバージョンが表示されるはずです。インポートエラーにより、一部のレプリカにはデータの不完全なバージョンが含まれる場合があります。

* **HEALTHY**

レプリカには正しいデータがあり、それが配置されているBEノードは正常な状態です（正常なハートビートがあり、オフラインになるプロセスではありません）。

### Tabletステータス

Tabletの健康状態は、すべてのレプリカのステータスによって決まります。

* **REPLICA_MISSING**

レプリカが欠落しています。つまり、生存しているレプリカの数が予想されるレプリカの数よりも少ないです。

* **VERSION_INCOMPLETE**

生存しているレプリカの数が予想される数以上であり、健全なレプリカの数が予想される数よりも少ないです。

* **REPLICA_RELOCATING**

完全なバージョンを持つ生存しているレプリカの数が「レプリケーション数」と等しいですが、一部のレプリカが配置されているBEノードが利用できない（例：廃止の状態）です。

* **REPLICA_MISSING_IN_CLUSTER**

複数のクラスタを使用する場合、健全なレプリカの数が予想される数以上であり、対応するクラスタ内のレプリカの数が予想される数よりも少ないです。

* **REDUNDANT**

レプリカの冗長性です。すべての健全なレプリカが対応するクラスタにありますが、冗長な利用できないレプリカのために総レプリカ数が予想数よりも多くなっています。

* **FORCE_REDUNDANT**

これは特殊なステータスです。予想されるレプリカの数が利用可能なノードの数以上であり、Tabletがレプリカの欠落状態にある場合にのみ発生します。この場合、新しいレプリカを作成するために利用可能なノードがあることを確保するために、最初に1つのレプリカを削除する必要があります。

* **COLOCATE_MISMATCH**

Colocation属性のためのTabletステータスであり、シャードされたレプリカがColocationグループで指定された分布と一致しないことを示しています。

* **COLOCATE_REDUNDANT**

Colocation属性のためのTabletステータスであり、Colocationテーブルのレプリカが冗長であることを示しています。

* **HEALTHY**

健全なTabletです。

## レプリカの修復

TabletCheckerは定期的にすべてのTabletのステータスをチェックします。不健全なTabletはTabletSchedulerにスケジューリングおよび修復のために渡されます。修復はクローンタスクとしてBEで行われます。クローンタスクの生成はFEが担当します。

> 注意1：レプリカの修復の主なアイデアは、まず目的の値に到達するために新しいレプリカを作成またはパッチし、その後余分なレプリカを削除することです。
> 注意2：クローンタスクは、リモートBEからターゲットデータを宛先BEにコピーすることです。

異なる状態に対して、異なる方法で修復を行います。

1. REPLICA_MISSING/REPLICA_RELOCATING
   利用可能なBEノードを宛先BEとして選択します。健全なレプリカをソースとして選択します。クローンタスクは、ソースから宛先BEに完全なレプリカをコピーします。レプリカの補充には、ストレージメディアに関係なく利用可能なBEノードが選択されます。
2. VERSION_INCOMPLETE
   比較的完全なレプリカを宛先として選択します。健全なレプリカをソースとして選択します。クローンタスクは、ソースから宛先に不足しているバージョンをコピーします。
3. REPLICA_MISSING_IN_CLUSTER
   このステータスはREPLICA_MISSINGと同じ方法で処理されます。
4. REDUNDANT
   通常、レプリカの修復後、Tabletには冗長なレプリカがあります。冗長なレプリカを選択して削除します。冗長なレプリカの選択は次の順序に従います。

   * レプリカが配置されているBEが既にオフラインになっている
   * レプリカが破損している
   * レプリカが接続不可またはオフラインになるプロセスにあるBEに配置されている
   * レプリカがCLONE状態である（クローンタスクの実行中の中間状態）
   * レプリカにバージョンが欠落している
   * レプリカが配置されているクラスタが正しくない
   * レプリカが配置されているBEノードが重く負荷されている

5. FORCE_REDUNDANT
   Tabletにレプリカが欠落しているが、新しいレプリカを作成するための利用可能なノードがない場合、新しいレプリカを作成するために最初にレプリカを削除する必要があります。レプリカの削除の順序はREDUNDANTと同じです。
6. COLOCATE_MISMATCH
   Colocationグループで指定されたBEノードのうちの1つを宛先ノードとして選択します。
7. COLOCATE_REDUNDANT
   Colocationグループで指定されていないBEノード上のレプリカを削除します。

StarRocksは、同じTabletのレプリカを同じホストの異なるBEに配置しません。これにより、同じホストのすべてのBEが故障しても、いくつかのレプリカが生き残ることが保証されます。

## レプリカのスケジューリング

### スケジューリングの優先度

TabletSchedulerでスケジュール待ちのTabletは、そのステータスに応じて異なる優先度が与えられます。優先度が高いTabletが最初にスケジュールされます。優先度のレベルは次のとおりです。

* VERY_HIGH

* `REDUNDANT`の状態です。冗長なレプリカを持つTabletは非常に高い優先度が与えられます。レプリカの冗長性は最も緊急ではありませんが、最も迅速に処理され、リソース（ディスクスペースなど）が解放されます。
* `FORCE_REDUNDANT`の状態です。上記と同じです。

* HIGH

* `REPLICA_MISSING`の状態で、ほとんどのレプリカが欠落しています（例：3つのレプリカのうち2つが欠落しています）。
* `VERSION_INCOMPLETE`の状態で、ほとんどのレプリカに不足しているバージョンがあります。
* `COLOCATE_MISMATCH`の状態です。Colocationテーブルに関連するTabletはできるだけ早く修正されます。
* `COLOCATE_REDUNDANT`の状態です。

* NORMAL

* `REPLICA_MISSING`の状態ですが、ほとんどのレプリカが生き残っています（例：3つのレプリカのうち1つが欠落しています）。
* `VERSION_INCOMPLETE`の状態ですが、ほとんどのレプリカに完全なバージョンがあります。
* `REPLICA_RELOCATING`の状態で、ほとんどのレプリカが再配置される必要があります（例：3つのコピーで2つ）。

* LOW

* `REPLICA_MISSING_IN_CLUSTER`の状態です。
* `REPLICA_RELOCATING`の状態ですが、ほとんどのレプリカが安定しています。

### 手動で優先度を決定する

システムは自動的にスケジューリングの優先度を決定します。ただし、特定のTabletをより速く修復したい場合があります。そのため、ユーザーが特定のテーブルまたはパーティションのTabletを最初に修復するように指定できるコマンドを提供しています。

ADMIN REPAIR TABLE tbl [PARTITION (p1, p2, ...)] ;

このコマンドは、問題のあるTabletに`VERY_HIGH`の優先度を与え、それを最初に修復できるようにします。

> 注意：このコマンドは成功した修復を保証するものではなく、優先度はTSのスケジューリングによって変更されます。この情報は、リーダーFEが変更されたり再起動されたりすると失われます。

優先度の設定は、次のコマンドでキャンセルできます。

ADMIN CANCEL REPAIR TABLE tbl [PARTITION (p1, p2, ...)] ;

### 優先度スケジューリング

優先度付けにより、重大な損傷を受けたTabletが最初に修復されます。ただし、高優先度の修復タスクが継続的に失敗すると、低優先度のタスクがスケジュールされない結果となります。そのため、各タスクのステータスに基づいて優先度を動的に調整し、すべてのタスクがスケジュールされる機会を確保します。

* スケジューリングが5回連続で失敗した場合（リソースの取得に失敗した、適切なソースまたは宛先が見つからないなど）、タスクの優先度が低下します。
* タスクが30分間スケジュールされていない場合、優先度が上げられます。
* タスクの優先度は、5分以内に2回以上調整できません。

初期の優先度レベルが重み付けされるようにするため、`VERY_HIGH`のタスクは最大で`NORMAL`に優先度が低下し、`LOW`のタスクは最大で`HIGH`に優先度が上昇します。優先度の調整は、ユーザーによって手動で設定された優先度を持つタスクにも適用されます。

## レプリカのバランス

StarRocksは、クラスタ内で自動的にレプリカのバランスを行います。バランスの主なアイデアは、低負荷のノードにレプリカを作成し、高負荷のノードからレプリカを削除することです。同じクラスタ内の異なるBEノードには複数のストレージメディアが存在する場合があります。バランスを保ったまま、BEノードはストレージメディアに基づいて分割され、負荷のバランスを適切にスケジュールできます。

同様に、レプリカのバランスにより、同じTabletのレプリカが同じホストのBEに配置されないようになります。

### BEノードの負荷

ClusterLoadStatistics（CLS）は、クラスタ内の各バックエンドの負荷バランスを示し、TabletSchedulerにクラスタのバランスを調整するようにトリガーします。現在、ディスク使用率とレプリカ数を使用して、各BEの`loadScore`を計算しています。スコアが高いほど、BEの負荷が重くなります。

`capacityCoefficient`と`replicaNumCoefficient`（合計が1）は、`Disk Utilization`と`Number of Replicas`の重み付け係数です。`capacityCoefficient`は、実際のディスク使用状況に応じて動的に調整されます。BEの全体的なディスク使用率が50％未満の場合、`capacityCoefficient`の値は0.5になります。ディスク使用率が75％以上（FEの設定項目`capacity_used_percent_high_water`で設定可能）の場合、値は1になります。使用率が50％から75％の間の場合、次の式に基づいて重み付け係数がスムーズに増加します。

`capacityCoefficient= 2 * disk utilization - 0.5`

この重み付け係数により、ディスク使用率が高すぎる場合、このBackendの負荷スコアが高くなり、このBEの負荷をできるだけ早く減らすようになります。

TabletSchedulerは、CLSを1分ごとに更新します。

### バランスポリシー

TabletSchedulerは、各スケジューリングラウンドでLoadBalancerを介してバランスのための候補となる一定数の健全なTabletを選択し、これらの候補スライスに基づいて将来のスケジューリングを調整します。

## リソース制御

レプリカの修復およびバランスは、BE間でコピーを行うことによって行われます。同じBE上で同時に実行されるタスクが多すぎると、IO負荷が増加します。そのため、StarRocksはスケジューリング中に各ノードで実行できるタスクの数を制御します。リソース制御の最小単位はディスクです（つまり、`be.conf`で指定されたデータパス）。デフォルトでは、レプリカの修復には各ディスクに2つのスロットが割り当てられます。クローンタスクは、ソースと宛先のそれぞれに1つのスロットを占有します。ディスクにスロットがゼロの場合、それ以上のタスクは割り当てられません。このスロットの数は、FEの`schedule_slot_num_per_path`パラメータで設定できます。

また、デフォルトでは、レプリカのバランスには各ディスクに2つのスロットが割り当てられます。これは、修復タスクによって重く負荷されたノードが占有され、バランスを通じてスペースを解放できなくなるのを防ぐためです。

## レプリカステータスの表示

レプリカステータスは**リーダーFEノードのみ**で表示されます。したがって、以下のコマンドはリーダーFEに直接接続して実行する必要があります。

### レプリカステータスの表示

1. グローバルステータスの確認  
   `SHOW PROC '/statistic';`コマンドを使用して、クラスタ全体のレプリカステータスを表示できます。

    ```plaintext
    +----------+-----------------------------+----------+--------------+----------+-----------+------------+--------------------+-----------------------+
    | DbId     | DbName                      | TableNum | PartitionNum | IndexNum | TabletNum | ReplicaNum | UnhealthyTabletNum | InconsistentTabletNum |
    +----------+-----------------------------+----------+--------------+----------+-----------+------------+--------------------+-----------------------+
    | 35153636 | default_cluster:DF_Newrisk  | 3        | 3            | 3        | 96        | 288        | 0                  | 0                     |
    | 48297972 | default_cluster:PaperData   | 0        | 0            | 0        | 0         | 0          | 0                  | 0                     |
    | 5909381  | default_cluster:UM_TEST     | 7        | 7            | 10       | 320       | 960        | 1                  | 0                     |
    | Total    | 240                         | 10       | 10           | 13       | 416       | 1248       | 1                  | 0                     |
    +----------+-----------------------------+----------+--------------+----------+-----------+------------+--------------------+-----------------------+
    ```

    `UnhealthyTabletNum`列は、対応するデータベース内の不健全なTabletの数を示します。`InconsistentTabletNum`列は、対応するデータベース内のレプリカの一貫性がないTabletの数を示します。最後の`Total`行は、クラスタ全体の統計を示しています。通常、`UnhealthyTabletNum`と`InconsistentTabletNum`はゼロである必要があります。ゼロでない場合は、さらにTabletの情報を確認できます。上記の例では、`UM_TEST`データベースに1つの不健全なステータスのTabletがあるため、次のコマンドを使用してどのTabletかを確認できます。

    `SHOW PROC '/statistic/5909381';`  
    ここで、`5909381`は対応するDbIdです。

    ```plaintext
    +------------------+---------------------+
    | UnhealthyTablets | InconsistentTablets |
    +------------------+---------------------+
    | [40467980]       | []                  |
    +------------------+---------------------+
    ```

    上記の結果は、特定の不健全なTablet ID（40467980）を示しています。次に、特定のTabletのすべてのレプリカのステータスを確認する方法について説明します。

2. テーブル（パーティション）レベルのステータスの確認  
   次のコマンドを使用して、特定のテーブルまたはパーティションのレプリカのステータスを確認できます。WHEREステートメントでステータスをフィルタリングすることもできます。たとえば、`tbl1`の`p1`と`p2`のNORMALレプリカのステータスを表示するには、次のコマンドを使用します。  
   `ADMIN SHOW REPLICA STATUS FROM tbl1 PARTITION (p1, p2) WHERE STATUS = "OK";`

    ```plaintext
    +----------+-----------+-----------+---------+-------------------+--------------------+------------------+------------+------------+-------+--------+--------+
    | TabletId | ReplicaId | BackendId | Version | LastFailedVersion | LastSuccessVersion | CommittedVersion | SchemaHash | VersionNum | IsBad | State  | Status |
    +----------+-----------+-----------+---------+-------------------+--------------------+------------------+------------+------------+-------+--------+--------+
    | 29502429 | 29502432  | 10006     | 2       | -1                | 2                  | 1                | -1         | 2          | false | NORMAL | OK     |
    | 29502429 | 36885996  | 10002     | 2       | -1                | -1                 | 1                | -1         | 2          | false | NORMAL | OK     |
    | 29502429 | 48100551  | 10007     | 2       | -1                | -1                 | 1                | -1         | 2          | false | NORMAL | OK     |
    | 29502433 | 29502434  | 10001     | 2       | -1                | 2                  | 1                | -1         | 2          | false | NORMAL | OK     |
    | 29502433 | 44900737  | 10004     | 2       | -1                | -1                 | 1                | -1         | 2          | false | NORMAL | OK     |
    | 29502433 | 48369135  | 10006     | 2       | -1                | -1                 | 1                | -1         | 2          | false | NORMAL | OK     |
    +----------+-----------+-----------+---------+-------------------+--------------------+------------------+------------+------------+-------+--------+--------+
    ```

    `IsBad = true`の場合、レプリカが破損していることを意味します。`Status`列には追加情報が表示されます。
    `ADMIN SHOW REPLICA STATUS`コマンドは、主にレプリカの健康状態を表示するために使用されます。ユーザーは次のコマンドを使用して追加情報を表示できます。

    `SHOW TABLET FROM tbl1;`

    ```plaintext
    +----------+-----------+-----------+------------+---------+-------------+-------------------+-----------------------+------------------+----------------------+---------------+----------+----------+--------+-------------------------+--------------+----------------------+--------------+----------------------+----------------------+----------------------+
    | TabletId | ReplicaId | BackendId | SchemaHash | Version | VersionHash | LstSuccessVersion | LstSuccessVersionHash | LstFailedVersion | LstFailedVersionHash | LstFailedTime | DataSize | RowCount | State  | LstConsistencyCheckTime | CheckVersion |     CheckVersionHash | VersionCount | PathHash             | MetaUrl              | CompactionStatus     |
    +----------+-----------+-----------+------------+---------+-------------+-------------------+-----------------------+------------------+----------------------+---------------+----------+----------+--------+-------------------------+--------------+----------------------+--------------+----------------------+----------------------+----------------------+
    | 29502429 | 29502432  | 10006     | 1421156361 | 2       | 0           | 2                 | 0                     | -1               | 0                    | N/A           | 784      | 0        | NORMAL | N/A                     | -1           |     -1               | 2            | -5822326203532286804 | url                  | url                  |
    | 29502429 | 36885996  | 10002     | 1421156361 | 2       | 0           | -1                | 0                     | -1               | 0                    | N/A           | 784      | 0        | NORMAL | N/A                     | -1           |     -1               | 2            | -1441285706148429853 | url                  | url                  |
    | 29502429 | 48100551  | 10007     | 1421156361 | 2       | 0           | -1                | 0                     | -1               | 0                    | N/A           | 784      | 0        | NORMAL | N/A                     | -1           |     -1               | 2            | -4784691547051455525 | url                  | url                  |
    +----------+-----------+-----------+------------+---------+-------------+-------------------+-----------------------+------------------+----------------------+---------------+----------+----------+--------+-------------------------+--------------+----------------------+--------------+----------------------+----------------------+----------------------+
    ```

    追加情報には、レプリカのサイズ、行数、バージョン数、配置されているデータパスなどが含まれます。

    > 注意：`State`列は、レプリカ自体の健康状態を表すものではありませんが、特定のタスク（`CLONE`、`SCHEMA_CHANGE`、`ROLLUP`など）の下でのレプリカのステータスを表します。

    さらに、次のコマンドを使用して、レプリカが均等に分布しているかどうかを確認できます。  
    `ADMIN SHOW REPLICA DISTRIBUTION FROM tbl1;`

    ```plaintext
    +-----------+------------+-------+---------+
    | BackendId | ReplicaNum | Graph | Percent |
    +-----------+------------+-------+---------+
    | 10000     | 7          |       | 7.29 %  |
    | 10001     | 9          |       | 9.38 %  |
    | 10002     | 7          |       | 7.29 %  |
    | 10003     | 7          |       | 7.29 %  |
    | 10004     | 9          |       | 9.38 %  |
    | 10005     | 11         | >     | 11.46 % |
    | 10006     | 18         | >     | 18.75 % |
    | 10007     | 15         | >     | 15.62 % |
    | 10008     | 13         | >     | 13.54 % |
    +-----------+------------+-------+---------+
    ```

    情報には、各BEノード上のレプリカの数、パーセンテージ、簡単なグラフ表示が表示されます。

3. 特定のTabletのステータスの確認  
   特定のTabletのステータスを確認するには、次のコマンドを使用します。たとえば、IDが29502553のTabletのステータスを確認するには、次のコマンドを使用します。  
   `SHOW TABLET 29502553;`

    ```plaintext
    +------------------------+-----------+---------------+-----------+----------+----------+-------------+----------+--------+---------------------------------------------------------------------------+
    | DbName                 | TableName | PartitionName | IndexName | DbId     | TableId  | PartitionId | IndexId  | IsSync | DetailCmd                                                                 |
    +------------------------+-----------+---------------+-----------+----------+----------+-------------+----------+--------+---------------------------------------------------------------------------+
    | default_cluster:test   | test      | test          | test      | 29502391 | 29502428 | 29502427    | 29502428 | true   | SHOW PROC '/dbs/29502391/29502428/partitions/29502427/29502428/29502553'; |
    +------------------------+-----------+---------------+-----------+----------+----------+-------------+----------+--------+---------------------------------------------------------------------------+
    ```

    上記は、Tabletに対応するデータベース、テーブル、パーティション、インデックスなどの情報を示しています。ユーザーは、`DetailCmd`のコマンドをコピーして詳細を確認できます。
    `SHOW PROC '/dbs/29502391/29502428/partitions/29502427/29502428/29502553';`

    ```plaintext
    +-----------+-----------+---------+-------------+-------------------+-----------------------+------------------+----------------------+---------------+------------+----------+----------+--------+-------+--------------+----------------------+----------+------------------+
    | ReplicaId | BackendId | Version | VersionHash | LstSuccessVersion | LstSuccessVersionHash | LstFailedVersion | LstFailedVersionHash | LstFailedTime | SchemaHash | DataSize | RowCount | State  | IsBad | VersionCount | PathHash             | MetaUrl  | CompactionStatus |
    +-----------+-----------+---------+-------------+-------------------+-----------------------+------------------+----------------------+---------------+------------+----------+----------+--------+-------+--------------+----------------------+----------+------------------+
    | 43734060  | 10004     | 2       | 0           | -1                | 0                     | -1               | 0                    | N/A           | -1         | 784      | 0        | NORMAL | false | 2            | -8566523878520798656 | url      | url              |
    | 29502555  | 10002     | 2       | 0           | 2                 | 0                     | -1               | 0                    | N/A           | -1         | 784      | 0        | NORMAL | false | 2            | 1885826196444191611  | url      | url              |
    | 39279319  | 10007     | 2       | 0           | -1                | 0                     | -1               | 0                    | N/A           | -1         | 784      | 0        | NORMAL | false | 2            | 1656508631294397870  | url      | url              |
    +-----------+-----------+---------+-------------+-------------------+-----------------------+------------------+----------------------+---------------+------------+----------+----------+--------+-------+--------------+----------------------+----------+------------------+
    ```

    上記は、対応するTabletのすべてのレプリカを示しています。ここで表示される内容は、`SHOW TABLET FROM tbl1;`と同じです。ただし、ここでは特定のTabletのすべてのレプリカのステータスが明確に表示されます。

### レプリカのスケジューリングタスク

1. `SHOW PROC '/cluster_balance/pending_tablets';`を使用して、スケジュール待ちのタスクを表示できます。

    ```plaintext
    +----------+--------+-----------------+---------+----------+----------+-------+---------+--------+----------+---------+---------------------+---------------------+---------------------+----------+------+-------------+---------------+---------------------+------------+---------------------+--------+---------------------+-------------------------------+
    | TabletId | Type   | Status          | State   | OrigPrio | DynmPrio | SrcBe | SrcPath | DestBe | DestPath | Timeout | Create              | LstSched            | LstVisit            | Finished | Rate | FailedSched | FailedRunning | LstAdjPrio          | VisibleVer | VisibleVerHash      | CmtVer | CmtVerHash          | ErrMsg                        |
    +----------+--------+-----------------+---------+----------+----------+-------+---------+--------+----------+---------+---------------------+---------------------+---------------------+----------+------+-------------+---------------+---------------------+------------+---------------------+--------+---------------------+-------------------------------+
    | 4203036  | REPAIR | REPLICA_MISSING | PENDING | HIGH     | LOW      | -1    | -1      | -1     | -1       | 0       | 2019-02-21 15:00:20 | 2019-02-24 11:18:41 | 2019-02-24 11:18:41 | N/A      | N/A  | 2           | 0             | 2019-02-21 15:00:43 | 1          | 0                   | 2      | 0                   | unable to find source replica |
    +----------+--------+-----------------+---------+----------+----------+-------+---------+--------+----------+---------+---------------------+---------------------+---------------------+----------+------+-------------+---------------+---------------------+------------+---------------------+--------+---------------------+-------------------------------+
    ```

      |   フィールド   | 説明   |
      |-----------|---------------|
      | TabletId  | スケジュール待ちのTabletのIDです。 |
      | Type      | タスクのタイプ、REPAIRまたはBALANCEです。 |
      |  Status   | Tabletの現在のステータス、例えば`REPLICA_MISSING`です。 |
      |  State    |  このスケジューリングタスクの状態です。値：`PENDING`/`RUNNING`/`FINISHED`/`CANCELLED`/`TIMEOUT`/`UNEXPECTED`です。 |
      | OrigPrio  | 初期の優先度です。 |
      | DynmPrio  | 動的な優先度です。 |
      | SrcBe     | ソースBEノードのIDです。|
      | SrcPath   |  ソースBEノードのパスです。|
      |  DestBe   | 宛先BEノードのIDです。|
      | DestPath  | 宛先BEノードのパスです。|
      | Timeout   | タスクが正常にスケジュールされた場合、タスクのタイムアウトがここに秒単位で表示されます。|
      | Create    | タスクが作成された時刻です。|
      | LstSched  | タスクが最後にスケジュールされた時刻です。|
      | LstVisit   | タスクが最後にアクセスされた時刻です。"アクセス"は、スケジューリング、タスクの実行レポートなどを指します。|
      | Finished  | タスクが完了した時刻です。|
      | Rate   | クローンタスクのデータコピー速度|
      | FailedSched |  タスクのスケジュールに失敗した回数|
      | FailedRunning| タスクの実行に失敗した回数|
      | LstAdjPrio | タスクの優先度が最後に調整された時刻 |
      | CmtVer/CmtVerHash/VisibleVer/VisibleVerHash| クローンタスクの実行に使用されるバージョン情報 |
      | ErrMsg |タスクがスケジュールおよび実行されたときのエラーメッセージ|

2. `SHOW PROC '/cluster_balance/running_tablets';`を使用して、実行中のタスクを表示できます。
   詳細は「pending tablets」を参照してください。

3. `SHOW PROC '/cluster_balance/history_tablets';`を使用して、完了したタスクを表示できます。
   デフォルトでは、最後の1000個の完了したタスクのみ保持します。詳細は「pending tablets」を参照してください。`State`が`FINISHED`の場合、タスクは正常に完了したことを意味します。それ以外の場合は、失敗したタスクの理由については`ErrMsg`を確認してください。
