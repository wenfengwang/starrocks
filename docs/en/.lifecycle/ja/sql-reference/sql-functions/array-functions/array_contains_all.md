---
displayed_sidebar: "Japanese"
---

# array_contains_all

## 説明

`arr1`が`arr2`のすべての要素を含んでいるかどうかを確認します。つまり、`arr2`が`arr1`の部分集合であるかどうかを確認します。はいの場合、1が返されます。そうでない場合、0が返されます。

## 構文

~~~Haskell
BOOLEAN array_contains_all(arr1, arr2)
~~~

## パラメータ

`arr`: 比較する2つの配列。この構文は、`arr2`が`arr1`の部分集合であるかどうかを確認します。

2つの配列の要素のデータ型は同じである必要があります。StarRocksでサポートされている配列要素のデータ型については、[ARRAY](../../../sql-reference/sql-statements/data-types/Array.md)を参照してください。

## 返り値

BOOLEAN型の値を返します。

`arr2`が`arr1`の部分集合である場合、1が返されます。それ以外の場合、0が返されます。

2つの配列のいずれかがNULLの場合、NULLが返されます。

## 使用上の注意

- 配列に`null`の要素が含まれている場合、`null`は値として処理されます。

- 空の配列は任意の配列の部分集合です。

- 2つの配列の要素の順序は異なっていても構いません。

## 例

1. `t1`という名前のテーブルを作成し、このテーブルにデータを挿入します。

    ~~~SQL
    CREATE TABLE t1 (
        c0 INT,
        c1 ARRAY<INT>,
        c2 ARRAY<INT>
    ) ENGINE=OLAP
    DUPLICATE KEY(c0)
    DISTRIBUTED BY HASH(c0);

    INSERT INTO t1 VALUES
        (1,[1,2,3],[1,2]),
        (2,[1,2,3],[1,4]),
        (3,NULL,[1]),
        (4,[1,2,null],NULL),
        (5,[1,2,null],[null]),
        (6,[2,3],[]);
    ~~~

2. このテーブルからデータをクエリします。

    ~~~Plain
    SELECT * FROM t1 ORDER BY c0;
    +------+------------+----------+
    | c0   | c1         | c2       |
    +------+------------+----------+
    |    1 | [1,2,3]    | [1,2]    |
    |    2 | [1,2,3]    | [1,4]    |
    |    3 | NULL       | [1]      |
    |    4 | [1,2,null] | NULL     |
    |    5 | [1,2,null] | [null]   |
    |    6 | [2,3]      | []       |
    +------+------------+----------+
    ~~~

3. 各行の`c2`が対応する行の`c1`の部分集合であるかどうかを確認します。

    ~~~Plaintext
    SELECT c0, c1, c2, array_contains_all(c1, c2) FROM t1 ORDER BY c0;
    +------+------------+----------+----------------------------+
    | c0   | c1         | c2       | array_contains_all(c1, c2) |
    +------+------------+----------+----------------------------+
    |    1 | [1,2,3]    | [1,2]    |                          1 |
    |    2 | [1,2,3]    | [1,4]    |                          0 |
    |    3 | NULL       | [1]      |                       NULL |
    |    4 | [1,2,null] | NULL     |                       NULL |
    |    5 | [1,2,null] | [null]   |                          1 |
    |    6 | [2,3]      | []       |                          1 |
    +------+------------+----------+----------------------------+
    ~~~

出力結果の説明:

行1では、`c2`は`c1`の部分集合であり、1が返されます。

行2では、`c2`は`c1`の部分集合ではなく、0が返されます。

行3では、`c1`がNULLであり、NULLが返されます。

行4では、`c2`がNULLであり、NULLが返されます。

行5では、2つの配列には`null`が含まれており、`null`は通常の値として処理されるため、`1`が返されます。

行6では、`c2`は空の配列であり、`c1`の部分集合と見なされます。したがって、`1`が返されます。
