---
displayed_sidebar: "Chinese"
---

# all_match

## 描述

返回数组中所有元素是否匹配给定的条件。

- 如果所有元素匹配条件（其中一个特殊情况为数组为空），返回`true`（1）。

- 如果有一个或多个元素不匹配条件，返回`false`（0）。

- 如果一个或多个元素的条件返回NULL，但对于其他元素返回`true`，则返回NULL。

此功能支持v3.0.6及更高版本。

## 语法

```Haskell
all_match(lambda_function, arr1, arr2...)
```

返回数组`arr1`中所有元素是否匹配lambda函数中的条件。

## 参数

- `arr1`：要匹配的数组。

- `arrN`：lambda函数中使用的可选数组。

- `lambda_function`：用于匹配值的lambda函数。

## 返回值

返回BOOLEAN值。

## 使用注意事项

- lambda函数遵循[array_map()](array_map.md)中的使用注意事项。
- 如果输入数组为null或lambda函数结果为null，则返回null。
- 如果`arr1`为空，则返回`true`。
- 要将此功能应用于MAP，请将 `all_match((k,v)->k>v,map)` 重写为 `all_match(map_values(transform_values((k,v)->k>v, map)))`。例如，`select all_match(map_values(transform_values((k,v)->k>v, map{2:1})));` 返回1。

## 示例

检查`x`中的所有元素是否小于`y`中的元素。

```Plain
select all_match((x,y) -> x < y, [1,2,-8], [4,5,6]);
+---------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, -8], [4, 5, 6]) |
+---------------------------------------------------+
|                                                 1 |
+---------------------------------------------------+

select all_match((x,y) -> x < y, [1,2,null], [4,5,6]);
+-----------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, NULL], [4, 5, 6]) |
+-----------------------------------------------------+
|                                                NULL |
+-----------------------------------------------------+

select all_match((x,y) -> x < y, [1,2,8], [4,5,6]);
+--------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, 8], [4, 5, 6]) |
+--------------------------------------------------+
|                                                0 |
+--------------------------------------------------+

select all_match((x,y) -> x < y, [], []);
+------------------------------------+
| all_match((x, y) -> x < y, [], []) |
+------------------------------------+
|                                  1 |
+------------------------------------+

select all_match((x,y) -> x < y, null, [4,5,6]);
+---------------------------------------------+
| all_match((x, y) -> x < y, NULL, [4, 5, 6]) |
+---------------------------------------------+
|                                        NULL |
+---------------------------------------------+
```