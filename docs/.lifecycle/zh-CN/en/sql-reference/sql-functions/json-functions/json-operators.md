---
displayed_sidebar: "Chinese"
---

# JSON运算符

StarRocks支持以下JSON比较运算符：`<`，`<=`，`>`，`>=`，`=`,和`!=`。您可以使用这些运算符来查询JSON数据。但是，StarRocks不允许您使用`IN`来查询JSON数据。

- > 运算符的操作数必须都是JSON值。

- > 如果运算符的一个操作数是JSON值，而另一个不是，则在算术运算期间将不是JSON值的操作数转换为JSON值。有关转换规则的更多信息，请参见[CAST](./json-query-and-processing-functions/cast.md)。

## 算术规则

JSON运算符遵守以下算术规则：

- 当运算符的操作数是相同数据类型的JSON值时：
  - 如果两个操作数均为基本数据类型的JSON值，例如NUMBER、STRING或BOOLEAN，则运算符将根据基本数据类型的算术规则执行算术运算。

> 注意：如果两个操作数都是数字，但一个是DOUBLE值，另一个是INT值，则运算符将INT值转换为DOUBLE值。

- 如果两个操作数均为复合数据类型的JSON值，例如OBJECT或ARRAY，则运算符按照第一个操作数中键的顺序对操作数中的键进行字典顺序排序，然后比较操作数之间键的值。

示例1：

第一个操作数为`{"a": 1, "c": 2}`，第二个操作数为`{"b": 1, "a": 2}`。在此示例中，运算符比较操作数之间的键 `a` 的值。第一个操作数中键 `a` 的值为`1`，而第二个操作数中键 `a` 的值为`2`。值`1`大于值`2`。因此，运算符得出结论，第一个操作数 `{"a": 1, "c": 2}` 小于第二个操作数 `{"b": 1, "``a``": 2}`。

```plaintext
mysql> SELECT PARSE_JSON('{"a": 1, "c": 2}') < PARSE_JSON('{"b": 1, "a": 2} ');

       -> 1
```

示例2：

第一个操作数为`{"a": 1, "c": 2}`，第二个操作数为`{"b": 1, "a": 1}`。在此示例中，运算符首先比较操作数之间的键 `a` 的值。操作数中键 `a` 的值均为`1`。然后，运算符比较操作数中键 `c` 的值。第二个操作数不包含键 `c`。因此，运算符得出结论，第一个操作数 `{"a": 1, "c": 2}` 大于第二个操作数 `{"b": 1, "a": 1}`。

```plaintext
mysql> SELECT PARSE_JSON('{"a": 1, "c": 2}') < PARSE_JSON('{"b": 1, "a": 1}');

       -> 0
```

- 当运算符的操作数是两种不同数据类型的JSON值时，运算符按照以下算术规则进行比较：NULL < BOOLEAN < ARRAY < OBJECT < DOUBLE < INT < STRING。

```plaintext
mysql> SELECT PARSE_JSON('"a"') < PARSE_JSON('{"a": 1, "c": 2}');

       -> 0
```