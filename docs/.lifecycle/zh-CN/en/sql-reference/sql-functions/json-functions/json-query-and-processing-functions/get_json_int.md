---
displayed_sidebar: "Chinese"
---

# get_json_int

## 描述

该函数用于分析并从json字符串中指定路径获取整数值。

json_path必须以`$`开始，并使用`.`作为路径分隔符。

如果路径中包含`.`，则应该用`"`和`"`括起来。

`[]`用作从0开始的数组下标。

路径中的内容不应包含`"`、`[`和`]`。

如果json_string或json_path的格式错误，该函数将返回NULL。

## 语法

```Haskell
INT get_json_int(VARCHAR json_str, VARCHAR json_path)
```

## 示例

1. 获取键为"k1"的值

    ```Plain Text
    MySQL > SELECT get_json_int('{"k1":1, "k2":"2"}', "$.k1");
    +--------------------------------------------+
    | get_json_int('{"k1":1, "k2":"2"}', '$.k1') |
    +--------------------------------------------+
    |                                          1 |
    +--------------------------------------------+
    ```

2. 获取键为"my.key"的数组中的第二个元素

    ```Plain Text
    MySQL > SELECT get_json_int('{"k1":"v1", "my.key":[1, 2, 3]}', '$."my.key"[1]');
    +------------------------------------------------------------------+
    | get_json_int('{"k1":"v1", "my.key":[1, 2, 3]}', '$."my.key"[1]') |
    +------------------------------------------------------------------+
    |                                                                2 |
    +------------------------------------------------------------------+
    ```

3. 获取路径为k1.key -> k2的数组中的第一个元素

    ```Plain Text
    MySQL > SELECT get_json_int('{"k1.key":{"k2":[1, 2]}}', '$."k1.key".k2[0]');
    +--------------------------------------------------------------+
    | get_json_int('{"k1.key":{"k2":[1, 2]}}', '$."k1.key".k2[0]') |
    +--------------------------------------------------------------+
    |                                                            1 |
    +--------------------------------------------------------------+
    ```

## 关键词

GET_JSON_INT,GET,JSON,INT