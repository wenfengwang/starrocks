---
displayed_sidebar: Chinese
---

# SQLコマンドテンプレート

> このテンプレートでは `ADMIN SET REPLICA STATUS` コマンドを例にして、SQLコマンドの統一された記述要件を紹介します。

- > 本文でコード内のパラメータやその値を引用する場合は、**バッククォート**（``）を使用してください。例：`cachesize`。これにより、区別しやすくなります。

- > 本文中でSQLコマンドやキーワードに言及する場合、特にマークを使用していない場合は、大文字で記述する必要があります。例えば、「SELECT文は条件に合致するレコードを検索するために使用できます」、「GROUP BYを使用してその列のデータをグループ化することができます」、「LIMITキーワードは出力されるレコードの数を定義します」。

以下はその例です。

## ADMIN SET REPLICA STATUS

> *タイトルはコマンドの英語名を全て大文字で使用し、スペルが正しいことを確認してください。*

### 機能

指定されたシャードのレプリカの状態を設定します。このコマンドは現在、レプリカの状態を `bad` または `ok` に手動で設定するためにのみ使用されます。

> *コマンドの機能を簡潔に説明し、動詞から始めることができます。関連する説明を追加することもできます。*

### 文法

```SQL
ADMIN SET REPLICA STATUS

PROPERTIES("key" = "value", ...);
```

> 文法の正確さをチェックし、オプションの内容は [] で囲みます。文法はコードブロックで囲む必要があります。*

- > *適切な改行とインデントを使用してください。*

- > *コード内には中国語の文字を含めてはいけません。例えば、中国語のセミコロン、コンマ、引用符などです。*

- > *コード内のキーワードは大文字で記述します。例えば：*

```SQL
SELECT ta.x, count(ta.y) AS y, sum(tb.z) AS z

FROM (

    SELECT a AS x, b AS y

    FROM t) ta

    JOIN tb

        ON ta.x = tb.x

WHERE tb.a > 10

GROUP BY ta.x

ORDER BY ta.x, z

LIMIT 10
```

### パラメータ説明

`PROPERTIES`：キーと値のペアで値を取ります。現在、以下の属性がサポートされています：

- `tablet_id`：シャードID、必須パラメータ。
- `backend_id`：シャードが属するBEのID、必須パラメータ。
- `status`：レプリカの状態、必須パラメータで、現在 `bad` または `ok` に設定することのみをサポートしています。`ok` に設定すると、システムは指定されたレプリカを自動的に修復します。`bad` 状態に設定されたレプリカは直ちに削除される可能性があるため、慎重に操作してください。指定されたシャードが存在しない場合、またはレプリカの状態が既に `bad` である場合、そのレプリカは無視されます。

> *文法内で使用されるパラメータについて説明してください。*

- > *パラメータ説明には通常、パラメータの意味、必須かどうか、値の形式（あれば）、値の範囲（あれば）、単位（あれば）、注意事項や制限条件などが含まれます。*

- > *パラメータ説明を整理するために、**無順序**リストのスタイルを使用することをお勧めします。パラメータが多く、説明が複雑な場合は、表を使用して整理することもできます。表を使用する場合は、以下の列を含めることができます：パラメータ名、データ型（オプション）、例示値（オプション）、デフォルト値、パラメータ説明。*

### 注意事項（オプション）

> *コマンドを実行する際に特に注意すべき事項や制限、例えば特定のパラメータの値が影響を及ぼす可能性があることやエラーを引き起こすことなど。*

### 例

例1：BE 10001上のシャード10003のレプリカの状態を `bad` に設定します。

```SQL
ADMIN SET REPLICA STATUS

PROPERTIES("tablet_id" = "10003", "backend_id" = "10001", "status" = "bad");
```

例2：BE 10001上のシャード10003のレプリカの状態を `ok` に設定します。

```SQL
ADMIN SET REPLICA STATUS

PROPERTIES("tablet_id" = "10003", "backend_id" = "10001", "status" = "ok");
```

- > *例の目的と機能を説明し、ユーザーが例のシナリオを迅速に理解できるようにしてください。*

- > *一つの例に複数のシナリオが含まれている場合、各シナリオのコードにコメントを付けて、ユーザーがシナリオを迅速に区別できるようにしてください。*

- > *コメントが完全な文である場合は、句点を付けてください。*

### 関連文書

> オプション。このコマンドに強く関連する文書で、ユーザーが理解しやすく、迅速に使用できるようにするためのものです。例えば、コマンドに対応する機能の文書、テーブル作成コマンドに対応する追加/削除/変更コマンドなど。
