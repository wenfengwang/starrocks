---
displayed_sidebar: Chinese
---

# JSON 演算子

StarRocks は `<`、`<=`、`>`、`>=`、`=`、`!=` の演算子を使用して JSON データをクエリすることをサポートしていますが、`IN` 演算子の使用はサポートしていません。

> - 演算子の両側は必ず JSON 型のデータでなければなりません。
> - 演算子の一方が JSON 型のデータで、もう一方がそうでない場合、演算は暗黙の型変換を通じて、JSON 型ではないデータを JSON 型のデータに変換します。型変換のルールについては、[JSON 型変換](./json-query-and-processing-functions/cast.md)を参照してください。

## 演算規則

JSON 演算子は以下の規則に従います：

- 演算子の両側の JSON データの値が同じデータ型に属する場合
  - 基本的なデータ型（数値型、文字列型、ブール型）であれば、基本的な型の演算規則に従って演算します。

   > 両方とも数値型であるが、DOUBLE と INT である場合は、INT を DOUBLE に型変換して比較します。

  - 複合データ型（オブジェクト型、配列型）であれば、要素を一つずつ比較して演算します：key を辞書順にソートし、それぞれの key に対応する value を比較します。

    例えば、JSON オブジェクト `{"a": 1, "c": 2}` と `{"b": 1, "a": 2}` について、演算子の左側にある JSON オブジェクトの key を辞書順に比較します。ノード `a` を比較すると、左側の値 `1` は右側の値 `2` より小さいため、`{"a": 1, "c": 2}` < `{"b": 1, "a": 2}` となります。

```Plain Text
mysql> SELECT PARSE_JSON('{"a": 1, "c": 2}') < PARSE_JSON('{"b": 1, "a": 2}');
       -> 1
```

   JSON オブジェクト `{"a": 1, "c": 2}` と `{"b": 1, "a": 1}` について、演算子の左側にある JSON オブジェクトの key を辞書順に比較します。まずノード `a` の値が両側ともに `1` であるため、次にノード `c` を比較します。右側には `c` の値が存在しないため、`{"a": 1, "c": 2}` > `{"b": 1, "a": 1}` となります。

```Plain Text
mysql> SELECT PARSE_JSON('{"a": 1, "c": 2}') < PARSE_JSON('{"b": 1, "a": 1}');
       -> 0
```

- 演算子の両側の JSON データの値が異なるデータ型である場合、型の順序に従って比較します。現在の型の順序は NULL < BOOLEAN < ARRAY < OBJECT < DOUBLE < INT < STRING です。

```Plain Text
mysql> SELECT PARSE_JSON('"a"') < PARSE_JSON('{"a": 1, "c": 2}');
       -> 0
```
