---
displayed_sidebar: Chinese
---

# json_exists

## 機能

JSON オブジェクト内の指定されたパス（`json_path`）に特定の条件を満たす値が存在するかどうかを問い合わせます。値が存在する場合は `1` を、存在しない場合は `0` を返します。

## 文法

```Plain Text
JSON_EXISTS(json_object_expr, json_path)
```

## 引数説明

- `json_object_expr`：JSON オブジェクトの式で、JSON 型の列や PARSE_JSON などの JSON 関数で構築された JSON オブジェクトが使用できます。

- `json_path`：JSON オブジェクトを問い合わせる際のパス。サポートされるデータ型は文字列です。StarRocks がサポートする JSON Path の文法については、[JSON Path 文法](../overview-of-json-functions-and-operators.md#json-path)を参照してください。

## 戻り値の説明

BOOLEAN 型の値を返します。

## 例

例 1：JSON オブジェクト内のパス式（`'$.a.b'`）で指定された値を問い合わせます。値が存在するため、`1` を返します。

```Plain Text
SELECT JSON_EXISTS(PARSE_JSON('{"a": {"b": 1}}'), '$.a.b');
+-----------------------------------------------------+
| json_exists(parse_json('{"a": {"b": 1}}'), '$.a.b') |
+-----------------------------------------------------+
|                                                   1 |
+-----------------------------------------------------+
```

例 2：JSON オブジェクト内のパス式（`'$.a.c'`）で指定された値を問い合わせます。値が存在しないため、`0` を返します。

```Plain Text
SELECT JSON_EXISTS(PARSE_JSON('{"a": {"b": 1}}'), '$.a.c');
+-----------------------------------------------------+
| json_exists(parse_json('{"a": {"b": 1}}'), '$.a.c') |
+-----------------------------------------------------+
|                                                   0 |
+-----------------------------------------------------+
```

例 3：JSON オブジェクト内のパス式 `'$.a[2]'`（a 配列の第 2 要素）で指定された値を問い合わせます。a 配列に第 2 要素が存在するため、`1` を返します。

```Plain Text
SELECT JSON_EXISTS(PARSE_JSON('{"a": [1,2,3]}'), '$.a[2]');
+-----------------------------------------------------+
| json_exists(parse_json('{"a": [1,2,3]}'), '$.a[2]') |
+-----------------------------------------------------+
|                                                   1 |
+-----------------------------------------------------+
```

例 4：JSON オブジェクト内のパス式 `'$.a[3]'`（a 配列の第 3 要素）で指定された値を問い合わせます。a 配列に第 3 要素が存在しないため、`0` を返します。

```Plain Text
SELECT JSON_EXISTS(PARSE_JSON('{"a": [1,2,3]}'), '$.a[3]');
+-----------------------------------------------------+
| json_exists(parse_json('{"a": [1,2,3]}'), '$.a[3]') |
+-----------------------------------------------------+
|                                                   0 |
+-----------------------------------------------------+
```
