---
displayed_sidebar: Chinese
---

# to_json

## 機能

Map または Struct 型のデータを JSON データに変換します。

他のタイプのデータを変換する場合は、[cast](./cast.md) を参照してください。この関数はバージョン 3.1 からサポートされています。

## 文法

```Haskell
to_json(any_value)
```

## パラメータ説明

`any_value`: Map または Struct 型の数値または式でなければならず、そうでない場合はエラーが返されます。`any_value` が Null の場合は、Null を返します。Map と Struct の内部の Value が Null であっても正常に返されます。最後の例を参照してください。

## 戻り値の説明

JSON 型の値を返します。

## 例

```Haskell
select to_json(map_from_arrays([1, 2], ['Star', 'Rocks']));
+-----------------------------------------------------+
| to_json(map_from_arrays([1, 2], ['Star', 'Rocks'])) |
+-----------------------------------------------------+
| {"1": "Star", "2": "Rocks"}                         |
+-----------------------------------------------------+

select to_json(map{1:'a',2:'b'});
+---------------------------+
| to_json(map{1:'a',2:'b'}) |
+---------------------------+
| {"1": "a", "2": "b"}      |
+---------------------------+

select to_json(row('asia','eu'));
+--------------------------------+
| to_json(row('asia', 'eu'))     |
+--------------------------------+
| {"col1": "asia", "col2": "eu"} |
+--------------------------------+

select to_json(map('a', named_struct('b', 1)));
+----------------------------------------+
| to_json(map{'a':named_struct('b', 1)}) |
+----------------------------------------+
| {"a": {"b": 1}}                        |
+----------------------------------------+

select to_json(named_struct("k1", cast(null as string), "k2", "v2"));
+-----------------------------------------------------------------------+
| to_json(named_struct('k1', CAST(NULL AS VARCHAR(65533)), 'k2', 'v2')) |
+-----------------------------------------------------------------------+
| {"k1": null, "k2": "v2"}                                              |
+-----------------------------------------------------------------------+
```

## 関連文書

- [Map データ型](../../../sql-statements/data-types/Map.md)
- [Struct データ型](../../../sql-statements/data-types/STRUCT.md)
- [Map 関数](../../function-list.md#map-関数)
- [Struct 関数](../../function-list.md#struct-関数)
