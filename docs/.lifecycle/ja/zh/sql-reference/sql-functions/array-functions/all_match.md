---
displayed_sidebar: Chinese
---

# all_match

## 機能

配列のすべての要素が述語 (predicate) で指定された条件に一致するかどうかを判断します。

- すべての要素が一致するか、配列が空の場合は true (1) を返します。

- 一つ以上の要素が一致しない場合は false (0) を返します。

- 配列に NULL 要素が含まれ、他の要素が条件を満たしている場合は NULL を返します。

この関数はバージョン 3.0.6 からサポートされています。

## 文法

```Haskell
all_match(lambda_function, arr1, arr2...)
```

配列のすべての要素が Lambda 式で指定された条件に一致するかどうかを判断します。

## 引数説明

- `arr`: 判断対象の配列。

- `lambda_function`: 条件として使用される Lambda 式。

## 戻り値の説明

BOOLEAN 型の値を返します。

## 使用説明

- Lambda 式の使用に関する注意事項は、[array_map()](array_map.md) を参照してください。
- 入力された配列が NULL であるか、Lambda 式の結果が NULL の場合は NULL を返します。
- 最初の配列が空の場合は `true` を返します。
- この関数を MAP に適用する場合は、`all_match((k,v)->k>v,map)` を `all_match(map_values(transform_values((k,v)->k>v, map)))` に書き換えることができます。例えば、`select all_match(map_values(transform_values((k,v)->k>v, map{2:1})));` は 1 を返します。

## 例

配列 `x` の要素が配列 `y` の要素よりも小さいかどうかを判断します。

```Plain
select all_match((x,y) -> x < y, [1,2,-8], [4,5,6]);
+---------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, -8], [4, 5, 6]) |
+---------------------------------------------------+
|                                                 1 |
+---------------------------------------------------+

select all_match((x,y) -> x < y, [1,2,null], [4,5,6]);
+-----------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, NULL], [4, 5, 6]) |
+-----------------------------------------------------+
|                                                NULL |
+-----------------------------------------------------+

select all_match((x,y) -> x < y, [1,2,8], [4,5,6]);
+--------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, 8], [4, 5, 6]) |
+--------------------------------------------------+
|                                                0 |
+--------------------------------------------------+

select all_match((x,y) -> x < y, [], []);
+------------------------------------+
| all_match((x, y) -> x < y, [], []) |
+------------------------------------+
|                                  1 |
+------------------------------------+

select all_match((x,y) -> x < y, null, [4,5,6]);
+---------------------------------------------+
| all_match((x, y) -> x < y, NULL, [4, 5, 6]) |
+---------------------------------------------+
|                                        NULL |
+---------------------------------------------+
```
