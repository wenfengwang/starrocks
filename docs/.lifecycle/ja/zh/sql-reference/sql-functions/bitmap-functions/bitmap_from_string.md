---
displayed_sidebar: Chinese
---

# bitmap_from_string

## 機能

文字列をbitmapに変換する関数で、文字列はコンマで区切られた一連のUInt32数字で構成されます。例えば "0, 1, 2" という文字列をbitmapに変換すると、0、1、2番目のビットがセットされます。入力フィールドが不正な場合はNULLを返します。

この関数は変換プロセス中に文字列内の数値の重複を排除します。bitmap_from_string() は単独で使用しても視覚化結果を返すことはできません。他の関数と組み合わせて使用する必要があります。例えば bitmap_to_string() などです。

## 文法

```Haskell
BITMAP_FROM_STRING(input)
```

## パラメータ説明

`input`: 入力される文字列で、サポートされるデータ型は VARCHAR です。文字列内の各値はUInt32型の数字でなければなりません。

## 戻り値の説明

戻り値のデータ型はBITMAPです。入力フィールドが不正な場合は `NULL` を返します。入力フィールドが空文字列の場合は空を返します。

## 例

```Plain Text
-- 空文字列を返します。
MySQL > select bitmap_to_string(bitmap_from_string(""));
+--------------------------------------------+
|  bitmap_to_string(bitmap_from_string(''))  |
+--------------------------------------------+
|                                            |
+--------------------------------------------+

-- `0,1,2` を返します。
MySQL > select bitmap_to_string(bitmap_from_string("0, 1, 2"));
+-------------------------------------------------+
| bitmap_to_string(bitmap_from_string('0, 1, 2')) |
+-------------------------------------------------+
| 0,1,2                                           |
+-------------------------------------------------+

-- -1 は不正な入力で、NULL を返します。
MySQL > select bitmap_to_string(bitmap_from_string("-1, 0, 1, 2"));
+-----------------------------------------------------+
| bitmap_to_string(bitmap_from_string('-1, 0, 1, 2')) |
+-----------------------------------------------------+
| NULL                                                |
+-----------------------------------------------------+

-- 文字列内の重複した数値を排除します。

MySQL > select bitmap_to_string(bitmap_from_string("0, 1, 1"));
+-------------------------------------------------+
| bitmap_to_string(bitmap_from_string('0, 1, 1')) |
+-------------------------------------------------+
| 0,1                                             |
+-------------------------------------------------+
```
