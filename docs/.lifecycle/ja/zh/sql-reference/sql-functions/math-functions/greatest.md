---
displayed_sidebar: Chinese
---

# greatest

## 機能

複数の入力パラメータの中で最大値を返します。

通常、戻り値のデータ型は入力値と同じです。

この関数が比較を行う際には以下の原則に従います：

- いずれかの入力パラメータが NULL の場合、NULL を返します。

- 入力パラメータに DOUBLE 型の値が含まれている場合、すべての値を DOUBLE 型で比較し、DOUBLE 型の値を返します。DECIMAL および FLOAT 型も同様のルールに従います。

- 入力パラメータに数値型と文字列型が含まれ、文字列を数値に変換できる場合は数値型で比較します。文字列を数値に変換できない場合は文字列型で比較します。

- 入力パラメータがすべて文字型の場合は、各パラメータの最初の文字がアルファベット順でどのように並ぶかに基づいて比較します。

## 文法

```Haskell
greatest(expr1,...);
```

## パラメータ説明

`expr1`: 対応するデータ型は SMALLINT、TINYINT、INT、BIGINT、LARGEINT、FLOAT、DOUBLE、DECIMALV2、DECIMAL32、DECIMAL64、DECIMAL128、DATETIME、VARCHAR です。

## 例

例一：入力値が単一の値です。

```Plain
select greatest(3);
+-------------+
| greatest(3) |
+-------------+
|           3 |
+-------------+
1 row in set (0.01 sec)
```

例二：数値のグループから最大値を返します。

```Plain
select greatest(3,4,5,5,6);
+-------------------------+
| greatest(3, 4, 5, 5, 6) |
+-------------------------+
|                       6 |
+-------------------------+
1 row in set (0.00 sec)
```

例三：入力値に DOUBLE 型の値が含まれており、すべての値を DOUBLE 型で比較し、DOUBLE 型の値を返します。

```Plain
select greatest(7,4.5);
+------------------+
| greatest(7, 4.5) |
+------------------+
|              7.0 |
+------------------+
1 row in set (0.05 sec)
```

例四：入力値に数値型と文字列型が含まれ、文字列を数値に変換できる場合、数値で比較します。

```Plain
select greatest(7,'9');
+------------------+
| greatest(7, '9') |
+------------------+
| 9                |
+------------------+
1 row in set (0.04 sec)
```

例五：入力値に数値型と文字列型が含まれ、文字列を数値に**変換できない**場合、文字列で比較します。文字列 `'1'` は `'at'` より小さいです。

```SQL
select greatest(1,'at');
+-------------------+
| greatest(1, 'at') |
+-------------------+
| at                |
+-------------------+
```

例六：入力値がすべて文字型で、最大値はアルファベットの最後の文字 `Z` です。

```Plain
select greatest('A','B','Z');
+-------------------------+
| greatest('A', 'B', 'Z') |
+-------------------------+
| Z                       |
+-------------------------+
1 row in set (0.00 sec)
```
