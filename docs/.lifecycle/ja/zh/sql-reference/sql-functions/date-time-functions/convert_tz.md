---
displayed_sidebar: Chinese
---

# convert_tz

## 機能

指定された時間を別のタイムゾーンの時間に変換します。

この関数はタイムゾーンの影響を受けます。詳細は [タイムゾーンの設定](../../../administration/timezone.md) を参照してください。

## 文法

```Haskell
DATETIME CONVERT_TZ(DATE|DATETIME dt, VARCHAR from_tz, VARCHAR to_tz)
```

## パラメータ説明

- `dt`：変換する時間。サポートされるデータ型は DATE と DATETIME です。
- `from_tz`：元のタイムゾーン名。サポートされるデータ型は VARCHAR です。
   タイムゾーンは2つの形式で使用できます：タイムゾーン情報データベース（Time Zone Database、例：Asia/Shanghai）、または UTC オフセット（例：+08:00）。
- `to_tz`：目的のタイムゾーン名。サポートされるデータ型は VARCHAR です。形式は `from_tz` パラメータと同じです。

## 戻り値の説明

戻り値のデータ型は DATETIME です。入力値が DATE の場合、デフォルトで 00:00:00 を基準に変換されます。入力値の型が不正な場合は `NULL` を返します。

## 注意事項

各タイムゾーンに対応するタイムゾーン情報データベースについては、[タイムゾーンデータベース](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)（出典：Wikipedia）を参照してください。

## 例

例1：上海の時間をロサンゼルスの時間に変換します。

```Plain Text

select convert_tz('2019-08-01 13:21:03', 'Asia/Shanghai', 'America/Los_Angeles');
+---------------------------------------------------------------------------+
| convert_tz('2019-08-01 13:21:03', 'Asia/Shanghai', 'America/Los_Angeles') |
+---------------------------------------------------------------------------+
| 2019-07-31 22:21:03                                                       |
+---------------------------------------------------------------------------+
1 row in set (0.00 sec)
```

例2：UTC+8の時間をロサンゼルスの時間に変換します。

```Plain Text
select convert_tz('2019-08-01 13:21:03', '+08:00', 'America/Los_Angeles');
+--------------------------------------------------------------------+
| convert_tz('2019-08-01 13:21:03', '+08:00', 'America/Los_Angeles') |
+--------------------------------------------------------------------+
| 2019-07-31 22:21:03                                                |
+--------------------------------------------------------------------+
1 row in set (0.00 sec)
```

例3：DATE 型の日付 `2019-08-01` を変換します。

```Plain Text
select convert_tz('2019-08-01', 'Asia/Shanghai', 'America/Los_Angeles');
+------------------------------------------------------------------+
| convert_tz('2019-08-01', 'Asia/Shanghai', 'America/Los_Angeles') |
+------------------------------------------------------------------+
| 2019-07-31 09:00:00                                              |
+------------------------------------------------------------------+
1 row in set (0.00 sec)
```
