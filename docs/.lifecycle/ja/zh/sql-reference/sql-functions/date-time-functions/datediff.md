---
displayed_sidebar: Chinese
---

# datediff

## 機能

2つの日付の差を計算し、結果は日単位で正確です。

`expr1` と `expr2` のパラメータは、有効な日付または日付/時刻の表現でなければなりません。

この関数と [days_diff](./days_diff.md) の違いは以下の通りです：

|関数名|動作|例|
|---|---|---|
|datediff|日付の判定が日単位で正確です。|'2020-12-25 23:00:00' と '2020-12-24 23:00:01' の datediff は 1です。|
|days_diff|日付の判定が秒単位で正確で、切り捨てられます。|'2020-12-25 23:00:00' と '2020-12-24 23:00:01' の days_diff は 0です。|

この関数と [date_diff](./date_diff.md) の違いは、date_diff が時間単位のパラメータを指定することをサポートしており、指定された時間単位に基づいて2つの日付の差を返すことができる点です。

## 文法

```Haskell
INT DATEDIFF(DATETIME expr1, DATETIME expr2)
```

## 例

```Plain Text
select datediff(CAST('2007-12-31 23:59:59' AS DATETIME), CAST('2007-12-30' AS DATETIME));
+-----------------------------------------------------------------------------------+
| datediff(CAST('2007-12-31 23:59:59' AS DATETIME), CAST('2007-12-30' AS DATETIME)) |
+-----------------------------------------------------------------------------------+
|                                                                                 1 |
+-----------------------------------------------------------------------------------+

select datediff(CAST('2010-11-30 23:59:59' AS DATETIME), CAST('2010-12-31' AS DATETIME));
+-----------------------------------------------------------------------------------+
| datediff(CAST('2010-11-30 23:59:59' AS DATETIME), CAST('2010-12-31' AS DATETIME)) |
+-----------------------------------------------------------------------------------+
|                                                                               -31 |
+-----------------------------------------------------------------------------------+
```
