---
displayed_sidebar: Chinese
---

# 週

## 機能

指定された日付が年の何週目にあたるかを計算します。この関数はMySQLのWEEK関数と同じ意味を持ちます。この関数はバージョン2.3からサポートされています。

## 文法

```sql
INT WEEK(DATETIME/DATE date, INT mode)
```

## パラメータ説明

- `date`: サポートされるデータ型はDATETIMEとDATEです。

- `mode`: オプションで、サポートされるデータ型はINTです。週の数を計算するロジックを決定するために使用され、週の開始が日曜日か月曜日か、および戻り値の範囲が0〜53か1〜53かを決定します。このパラメータの取りうる値は0〜7で、デフォルト値は`0`です。このパラメータが指定されていない場合、デフォルトではモード`0`に対応するルールに従って計算されます。具体的な意味は以下の通りです:

```Plain Text
Mode    週の最初の日       範囲      第1週はこの年に…
0       日曜日             0-53     日曜日がある
1       月曜日             0-53     4日以上ある
2       日曜日             1-53     日曜日がある
3       月曜日             1-53     4日以上ある
4       日曜日             0-53     4日以上ある
5       月曜日             0-53     月曜日がある
6       日曜日             1-53     4日以上ある
7       月曜日             1-53     月曜日がある
```

## 戻り値説明

INT型の値を返します。取りうる値の範囲は0〜53で、具体的な範囲は`mode`パラメータによって決まります。もし`date`の値が不正であるか入力が空である場合は、NULLを返します。

## 例

`2007-01-01`がどの週にあたるかを問い合わせます。`2007-01-01`はカレンダー上で月曜日です。

- `mode`を`0`に設定すると、結果は0になります。この場合、週の最初の日は日曜日であり、`2007-01-01`は第1週としてはカウントされないため、`0`が返されます。

```Plain Text
SELECT WEEK('2007-01-01', 0);
+-----------------------+
| week('2007-01-01', 0) |
+-----------------------+
|                     0 |
+-----------------------+
1行がセットされました (0.02秒)
```

- `mode`を`1`に設定すると、結果は`1`になります。この場合、週の最初の日は月曜日です。

```Plain Text
SELECT WEEK('2007-01-01', 1);
+-----------------------+
| week('2007-01-01', 1) |
+-----------------------+
|                     1 |
+-----------------------+
1行がセットされました (0.02秒)
```

- `mode`を`2`に設定すると、結果は`53`になります。この場合、週の最初の日は日曜日ですが、取りうる値の範囲が1〜53なので、53が返されます。これは前年の最後の週を表しています。

```Plain Text
SELECT WEEK('2007-01-01', 2);
+-----------------------+
| week('2007-01-01', 2) |
+-----------------------+
|                    53 |
+-----------------------+
1行がセットされました (0.01秒)
```
