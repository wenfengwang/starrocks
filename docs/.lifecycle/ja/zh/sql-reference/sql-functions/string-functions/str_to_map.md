---
displayed_sidebar: Chinese
---

# str_to_map

## 機能

指定された文字列をキーと値のペアに分割し、これらのペアを含む Map を返します。

この関数はバージョン 3.1 からサポートされています。

## 文法

```Haskell
MAP<VARCHAR, VARCHAR> str_to_map(VARCHAR content[, VARCHAR delimiter[, VARCHAR map_delimiter]])
```

## パラメータ説明

- `content`: 分割される文字列式、必須。
- `delimiter`: 文字列をキーと値のペアに分割するために使用される区切り文字、オプション。指定されていない場合のデフォルトはコンマ (`,`) です。
- `map_delimiter`: 各キーと値のペアを分けるために使用される区切り文字、オプション。指定されていない場合のデフォルトはコロン (`:`) です。

## 戻り値の説明

VARCHAR 要素の MAP を返します。入力値のいずれかが NULL の場合は、NULL を返します。

## 例

```SQL
mysql> SELECT str_to_map('a:1|b:2|c:3', '|', ':') as map;
+---------------------------+
| map                       |
+---------------------------+
| {"a":"1","b":"2","c":"3"} |
+---------------------------+

mysql> SELECT str_to_map('a:1;b:2;c:3', ';', ':') as map;
+---------------------------+
| map                       |
+---------------------------+
| {"a":"1","b":"2","c":"3"} |
+---------------------------+

mysql> SELECT str_to_map('a:1,b:2,c:3', ',', ':') as map;
+---------------------------+
| map                       |
+---------------------------+
| {"a":"1","b":"2","c":"3"} |
+---------------------------+

mysql> SELECT str_to_map('a') as map;
+------------+
| map        |
+------------+
| {"a":null} |
+------------+

mysql> SELECT str_to_map('a:1,b:2,c:3',null, ':') as map;
+------+
| map  |
+------+
| NULL |
+------+

mysql> SELECT str_to_map('a:1,b:2,c:null') as map;
+------------------------------+
| map                          |
+------------------------------+
| {"a":"1","b":"2","c":"null"} |
+------------------------------+
```

## キーワード

STR_TO_MAP
