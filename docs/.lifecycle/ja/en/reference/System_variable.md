---
displayed_sidebar: English
---

# システム変数

StarRocksは、要件に合わせて設定および変更できる多くのシステム変数を提供しています。このセクションでは、StarRocksがサポートする変数について説明します。これらの変数の設定を表示するには、MySQLクライアントで[SHOW VARIABLES](../sql-reference/sql-statements/Administration/SHOW_VARIABLES.md)コマンドを実行します。また、[SET](../sql-reference/sql-statements/Administration/SET.md)コマンドを使用して、変数を動的に設定または変更することもできます。これらの変数は、システム全体でグローバルに有効にすることも、現在のセッションでのみ有効にすることも、1つのクエリステートメントでのみ有効にすることもできます。

StarRocksの変数はMySQLの変数セットを参照していますが、**一部の変数はMySQLクライアントプロトコルとのみ互換性があり、MySQLデータベースでは機能しません**。

> **注記**
>
> 任意のユーザーはSHOW VARIABLESを実行し、セッションレベルで変数を有効にする権限を持っています。しかし、SYSTEMレベルのOPERATE権限を持つユーザーのみが変数をグローバルに有効にすることができます。グローバルに有効な変数は、将来のすべてのセッション（現在のセッションを除く）で有効になります。
>
> 現在のセッションの設定を変更し、その設定変更を今後のすべてのセッションに適用したい場合は、変更を2回行うことができます。1回は`GLOBAL`修飾子なしで、もう1回はそれを使用して。例えば：
>
> ```SQL
> SET query_mem_limit = 137438953472; -- 現在のセッションに適用します。
> SET GLOBAL query_mem_limit = 137438953472; -- 今後のすべてのセッションに適用します。
> ```

## 変数の階層とタイプ

StarRocksは、グローバル変数、セッション変数、および`SET_VAR`ヒントの3種類（レベル）の変数をサポートしています。それらの階層関係は以下の通りです：

* グローバル変数はグローバルレベルで有効になり、セッション変数と`SET_VAR`ヒントによって上書きされる可能性があります。
* セッション変数は現在のセッションでのみ有効で、`SET_VAR`ヒントによって上書きされる可能性があります。
* `SET_VAR`ヒントは現在のクエリステートメントでのみ有効です。

## 変数の表示

`SHOW VARIABLES [LIKE 'xxx']`を使用して、すべてまたは一部の変数を表示できます。例：

```SQL
-- システム内のすべての変数を表示します。
SHOW VARIABLES;

-- 特定のパターンに一致する変数を表示します。
SHOW VARIABLES LIKE '%time_zone%';
```

## 変数の設定

### 変数をグローバルに設定するか、単一のセッションに設定するか

変数は**グローバルに**有効にするか**現在のセッションのみに**有効にするかを設定できます。グローバルに設定すると、新しい値は今後のすべてのセッションで使用されますが、現在のセッションは元の値を引き続き使用します。"現在のセッションのみ"に設定すると、変数は現在のセッションでのみ有効になります。

`SET <var_name> = xxx;`によって設定された変数は、現在のセッションでのみ有効です。例：

```SQL
SET query_mem_limit = 137438953472;

SET forward_to_master = true;

SET time_zone = "Asia/Shanghai";
```

`SET GLOBAL <var_name> = xxx;`によって設定された変数はグローバルに有効です。例：

```SQL
SET GLOBAL query_mem_limit = 137438953472;
```

以下の変数はグローバルにのみ有効です。単一のセッションでは有効にならないため、これらの変数には`SET GLOBAL <var_name> = xxx;`を使用する必要があります。このような変数を単一のセッションに設定しようとすると（`SET <var_name> = xxx;`）、エラーが返されます。

* activate_all_roles_on_login
* character_set_database
* default_rowset_type
* enable_query_queue_select
* enable_query_queue_statistic
* enable_query_queue_load
* init_connect
* lower_case_table_names
* license
* language
* query_cache_size
* query_queue_fresh_resource_usage_interval_ms
* query_queue_concurrency_limit
* query_queue_mem_used_pct_limit
* query_queue_cpu_used_permille_limit
* query_queue_pending_timeout_second
* query_queue_max_queued_queries
* system_time_zone
* version_comment
* version

さらに、変数の設定は次のような定数式もサポートしています：

```SQL
SET query_mem_limit = 10 * 1024 * 1024 * 1024;
```

 ```SQL
SET forward_to_master = concat('tr', 'u', 'e');
```

### 単一のクエリステートメントで変数を設定する

一部のシナリオでは、特定のクエリに対して変数を特別に設定する必要があります。`SET_VAR`ヒントを使用することで、単一のステートメント内でのみ有効になるセッション変数を設定できます。例：

```sql
SELECT /*+ SET_VAR(query_mem_limit = 8589934592) */ name FROM people ORDER BY name;

SELECT /*+ SET_VAR(query_timeout = 1) */ sleep(3);
```

> **注記**
>
> `SET_VAR`は`SELECT`キーワードの後にのみ配置でき、`/*+...*/`で囲む必要があります。

また、単一のステートメントで複数の変数を設定することもできます。例：

```sql
SELECT /*+ SET_VAR
  (
  exec_mem_limit = 515396075520,
  query_timeout=10000000,
  batch_size=4096,
  parallel_fragment_exec_instance_num=32
  )
  */ * FROM TABLE;
```

## 変数の説明

変数は**アルファベット順**に説明されています。`global`ラベルが付いた変数はグローバルにのみ有効です。他の変数はグローバルまたは単一のセッションで有効になります。

### activate_all_roles_on_login（グローバル）

ユーザーがStarRocksクラスターに接続する際に、StarRocksユーザーのすべてのロール（デフォルトロールと付与されたロールを含む）を有効にするかどうか。この変数はv3.0以降でサポートされています。

* 有効（true）の場合、ユーザーログイン時にユーザーのすべてのロールがアクティブ化されます。これは[SET DEFAULT ROLE](../sql-reference/sql-statements/account-management/SET_DEFAULT_ROLE.md)で設定されたロールよりも優先されます。
* 無効（false）の場合、SET DEFAULT ROLEで設定されたロールがアクティブ化されます。

デフォルト値：false。

セッションで自分に割り当てられたロールをアクティブ化したい場合は、[SET ROLE](../sql-reference/sql-statements/account-management/SET_DEFAULT_ROLE.md)コマンドを使用してください。

### auto_increment_increment

MySQLクライアント互換性のために使用されます。実際の使用法はありません。

### autocommit

MySQLクライアント互換性のために使用されます。実際の使用法はありません。

### batch_size

クエリ実行中に各ノードから送信される単一パケットの行数を指定するために使用されます。デフォルトは1024で、ソースノードが生成した1024行のデータがパッケージ化されて宛先ノードに送信されます。行数が多いほど、大量データシナリオでのクエリスループットが向上しますが、小量データシナリオでのクエリ待機時間が増加する可能性があります。また、クエリのメモリオーバーヘッドが増加する可能性があります。`batch_size`は1024から4096の間で設定することを推奨します。

### big_query_profile_second_threshold（3.1以降）

セッション変数`enable_profile`が`false`に設定されていて、クエリの実行時間が変数`big_query_profile_second_threshold`で指定されたしきい値を超えた場合、そのクエリのプロファイルが生成されます。

### cbo_decimal_cast_string_strict（2.5.14以降）

CBOがDECIMAL型からSTRING型へのデータ変換をどのように扱うかを制御します。この変数が`true`に設定されている場合、v2.5.x以降のバージョンで組み込まれたロジックが優先され、システムは厳密な変換を実施します（つまり、生成された文字列は切り捨てられ、スケールの長さに基づいて0が埋められます）。この変数が`false`に設定されている場合、v2.5.xより前のバージョンで組み込まれたロジックが優先され、システムはすべての有効な桁を処理して文字列を生成します。デフォルト値は`true`です。

### cbo_enable_low_cardinality_optimize

低カーディナリティ最適化を有効にするかどうか。この機能が有効になると、STRINGカラムのクエリパフォーマンスが約3倍向上します。デフォルト値：true。

### cbo_eq_base_type（2.5.14以降）

DECIMAL型データとSTRING型データのデータ比較に使用するデータ型を指定します。デフォルト値は `VARCHAR` で、`DECIMAL` も有効な値です。

### character_set_database (グローバル)

StarRocksがサポートする文字セット。UTF8 (`utf8`) のみがサポートされています。

### connector_io_tasks_per_scan_operator (2.5 以降)

外部テーブルクエリ中にスキャンオペレーターが発行できる並行I/Oタスクの最大数。値は整数です。デフォルト値: 16。

現在、StarRocksは外部テーブルをクエリする際に並行I/Oタスクの数を適応的に調整することができます。この機能は変数 `enable_connector_adaptive_io_tasks` によって制御され、デフォルトで有効になっています。

### count_distinct_column_buckets (2.5 以降)

group-by-count-distinctクエリのCOUNT DISTINCTカラムのバケット数。この変数は `enable_distinct_column_bucketization` が `true` に設定されている場合のみ有効です。デフォルト値: 1024。

### default_rowset_type (グローバル)

グローバル変数。コンピューティングノードのストレージエンジンで使用されるデフォルトのストレージ形式を設定するために使用します。現在サポートされているストレージ形式は `alpha` と `beta` です。

### default_table_compression (3.0 以降)

テーブルストレージのデフォルト圧縮アルゴリズム。サポートされている圧縮アルゴリズムは `snappy, lz4, zlib, zstd` です。デフォルト値: lz4_frame。

CREATE TABLE ステートメントで `compression` プロパティを指定した場合、`compression` で指定された圧縮アルゴリズムが有効になることに注意してください。

### disable_colocate_join

コロケートジョインが有効かどうかを制御するために使用されます。デフォルト値は `false` で、機能が有効であることを意味します。この機能が無効の場合、クエリプランニングはコロケートジョインを試みません。

### disable_streaming_preaggregations

ストリーミングプリアグリゲーションが有効かどうかを制御するために使用されます。デフォルト値は `false` で、有効であることを意味します。

### div_precision_increment

MySQLクライアントとの互換性のために使用されます。実際の使用法はありません。

### enable_connector_adaptive_io_tasks (2.5 以降)

外部テーブルをクエリする際に並行I/Oタスクの数を適応的に調整するかどうか。デフォルト値: true。

この機能が有効でない場合、変数 `connector_io_tasks_per_scan_operator` を使用して並行I/Oタスクの数を手動で設定できます。

### enable_distinct_column_bucketization (2.5 以降)

group-by-count-distinctクエリでCOUNT DISTINCT列のバケット化を有効にするかどうか。例えば `select a, count(distinct b) from t group by a;` クエリを使用します。GROUP BY列 `a` が低カーディナリティで、COUNT DISTINCT列 `b` が高カーディナリティでデータ偏りが激しい場合、パフォーマンスのボトルネックが発生します。このような状況では、COUNT DISTINCT列のデータを複数のバケットに分割してデータのバランスを取り、データ偏りを防ぐことができます。

デフォルト値: false、これはこの機能が無効であることを意味します。この変数は `count_distinct_column_buckets` 変数と共に使用する必要があります。

また、クエリに `skew` ヒントを追加することでCOUNT DISTINCT列のバケット化を有効にすることもできます。例: `select a,count(distinct [skew] b) from t group by a;`。

### enable_group_level_query_queue (3.1.4 以降)

リソースグループレベルの[クエリキュー](../administration/query_queues.md)を有効にするかどうか。

デフォルト値: false、これはこの機能が無効であることを意味します。

### enable_insert_strict

INSERTステートメントを使用してデータをロードする際の厳格モードを有効にするために使用されます。デフォルト値は `true` で、厳格モードがデフォルトで有効であることを示します。詳細については、[厳格モード](../loading/load_concept/strict_mode.md)を参照してください。

### enable_materialized_view_union_rewrite (2.5 以降)

マテリアライズドビューのユニオンクエリの書き換えを有効にするブール値。デフォルト: `true`。

### enable_rule_based_materialized_view_rewrite (2.5 以降)

ルールベースのマテリアライズドビュークエリの書き換えを有効にするブール値。この変数は主に単一テーブルクエリの書き換えに使用されます。デフォルト: `true`。

### enable_spill (3.0 以降)

中間結果のスピルを有効にするかどうか。デフォルト: `false`。`true` に設定すると、StarRocksはクエリで集約、ソート、または結合オペレータを処理する際のメモリ使用量を削減するために中間結果をディスクにスピルします。

### enable_profile

クエリのプロファイルを分析用に送信するかどうかを指定します。デフォルト値は `false` で、プロファイルは不要です。

デフォルトでは、BEでクエリエラーが発生した場合にのみプロファイルがFEに送信されます。プロファイルの送信はネットワークオーバーヘッドを引き起こし、高い同時実行性に影響を与えます。

クエリのプロファイルを分析する必要がある場合、この変数を `true` に設定できます。クエリが完了した後、現在接続されているFEのWebページ（アドレス: `fe_host:fe_http_port/query`）でプロファイルを表示できます。このページには、`enable_profile` がオンになっている最新の100件のクエリのプロファイルが表示されます。

### enable_query_queue_load (グローバル)

ロードタスクのためのクエリキューを有効にするブール値。デフォルト: `false`。

### enable_query_queue_select (グローバル)

SELECTクエリのためのクエリキューを有効にするブール値。デフォルト: `false`。

### enable_query_queue_statistic (グローバル)

統計クエリのためのクエリキューを有効にするブール値。

### enable_query_tablet_affinity（2.5 以降）

同じタブレットに対する複数のクエリを固定レプリカに指向させるかどうかを制御するブール値。

クエリ対象のテーブルに多数のタブレットがある場合、この機能はタブレットのメタ情報とデータをより迅速にメモリにキャッシュできるため、クエリのパフォーマンスを大幅に向上させます。

ただし、ホットスポットタブレットが存在する場合、この機能はクエリを同じBEに指向させ、高い同時実行シナリオで複数のBEのリソースを完全に活用できないため、クエリのパフォーマンスを低下させる可能性があります。

デフォルト値: `false`、これはシステムがクエリごとにレプリカを選択することを意味します。この機能は2.5.6、3.0.8、3.1.4、および3.2.0以降でサポートされています。

### enable_scan_datacache (2.5 以降)

データキャッシュ機能を有効にするかどうかを指定します。この機能が有効になると、StarRocksは外部ストレージシステムから読み取られたホットデータをブロックにキャッシュし、クエリと分析を加速します。詳細については、[データキャッシュ](../data_source/data_cache.md)を参照してください。3.2以前のバージョンでは、この変数は `enable_scan_block_cache` として名付けられていました。

### enable_populate_datacache (2.5 以降)

外部ストレージシステムから読み取られたデータブロックをStarRocksにキャッシュするかどうかを指定します。外部ストレージシステムから読み取られたデータブロックをキャッシュしたくない場合は、この変数を `false` に設定します。デフォルト値: true。この変数は2.5以降でサポートされています。3.2以前のバージョンでは、この変数は `enable_scan_block_cache` として名付けられていました。

### enable_tablet_internal_parallel (2.3 以降)

タブレットの適応的な並列スキャンを有効にするかどうか。この機能が有効になると、複数のスレッドを使用して1つのタブレットをセグメントごとにスキャンでき、スキャンの並行性が向上します。デフォルト値: true。

### enable_query_cache (2.5 以降)

クエリキャッシュ機能を有効にするかどうかを指定します。有効な値: `true` と `false`。`true` はこの機能を有効にし、`false` は無効にすることを指定します。この機能が有効な場合、[クエリキャッシュ](../using_starrocks/query_cache.md#application-scenarios)のアプリケーションシナリオで指定された条件を満たすクエリに対してのみ機能します。

### enable_adaptive_sink_dop (2.5 以降)

データロードのための適応的な並列度を有効にするかどうかを指定します。この機能が有効になると、システムはINSERT INTOとBroker Loadジョブのロード並列度を自動的に設定します。これは`pipeline_dop`のメカニズムに相当します。新しくデプロイされたv2.5 StarRocksクラスターでは、デフォルト値は`true`です。v2.4からアップグレードされたv2.5クラスターでは、値は`false`です。

### enable_pipeline_engine

パイプライン実行エンジンを有効にするかどうかを指定します。`true` は有効、`false` は無効を示します。デフォルト値: `true`。

### enable_sort_aggregate (2.5 以降)

ソートされたストリーミングを有効にするかどうかを指定します。`true` はデータストリーム内でデータをソートするためにソートされたストリーミングが有効であることを示します。

### enable_global_runtime_filter

グローバルランタイムフィルター（RF）を有効にするかどうか。RFは実行時にデータをフィルタリングします。データフィルタリングは通常、Joinステージで発生します。複数テーブルのJoinでは、述語プッシュダウンなどの最適化を使用してデータをフィルタリングし、Joinのスキャン行数とShuffleステージのI/Oを減らすことで、クエリを高速化します。

StarRocksは2種類のRFを提供しています：Local RFとGlobal RF。Local RFはBroadcast Hash Joinに適しており、Global RFはShuffle Joinに適しています。

デフォルト値: `true`、これはグローバルRFが有効であることを意味します。この機能が無効の場合、グローバルRFは効果を発揮しませんが、Local RFは依然として機能します。

### enable_multicolumn_global_runtime_filter

マルチカラムグローバルランタイムフィルターを有効にするかどうか。デフォルト値: `false`、これはマルチカラムグローバルRFが無効であることを意味します。

Join（Broadcast JoinやReplicated Joinを除く）に複数の等価結合条件がある場合：

* この機能が無効の場合、Local RFのみが機能します。
* この機能が有効の場合、マルチカラムグローバルRFが効果を発揮し、`partition by`句に`multi-column`が含まれます。

### ENABLE_WRITE_HIVE_EXTERNAL_TABLE (v3.2 以降)

Hiveの外部テーブルへのデータ書き込みを許可するかどうか。デフォルト値: `false`。

### event_scheduler

MySQLクライアント互換性のために使用されます。実際の使用はありません。

### enable_strict_type (v3.1 以降)

すべての複合述語とWHERE句内のすべての式に対する暗黙の型変換を許可するかどうか。デフォルト値: `false`。

### force_streaming_aggregate

集約ノードが計算のためにストリーミング集約を有効にするかどうかを制御するために使用されます。デフォルト値は`false`で、この機能が有効でないことを意味します。

### forward_to_master

一部のコマンドをリーダーFEに転送して実行するかどうかを指定します。デフォルト値は`false`で、リーダーFEに転送しないことを意味します。StarRocksクラスタには複数のFEがあり、その中の1つがリーダーFEです。通常、ユーザーは任意のFEに接続して全機能を操作できます。しかし、一部の情報はリーダーFEでのみ利用可能です。

例えば、SHOW BACKENDSコマンドがリーダーFEに転送されない場合、基本情報（例えば、ノードが生きているかどうか）のみが表示されます。リーダーFEに転送すると、ノードの起動時間や最後のハートビート時間など、より詳細な情報が得られます。

この変数に影響されるコマンドは以下の通りです：

* SHOW FRONTENDS：リーダーFEに転送すると、ユーザーは最後のハートビートメッセージを表示できます。

* SHOW BACKENDS：リーダーFEに転送すると、ユーザーは起動時間、最後のハートビート情報、およびディスク容量情報を表示できます。

* SHOW BROKER：リーダーFEに転送すると、ユーザーは起動時間と最後のハートビート情報を表示できます。

* SHOW TABLET

* ADMIN SHOW REPLICA DISTRIBUTION

* ADMIN SHOW REPLICA STATUS：リーダーFEに転送すると、リーダーFEのメタデータに保存されているタブレット情報をユーザーが表示できます。通常、タブレット情報は異なるFEのメタデータで同じであるべきです。エラーが発生した場合、この方法を使用して現在のFEとリーダーFEのメタデータを比較することができます。

* Show PROC：リーダーFEに転送すると、ユーザーはメタデータに保存されているPROC情報を表示できます。これは主にメタデータ比較のために使用されます。

### group_concat_max_len

[group_concat関数](../sql-reference/sql-functions/string-functions/group_concat.md)によって返される文字列の最大長を指定します。デフォルト値: 1024。最小値: 4。単位: 文字。

### hash_join_push_down_right_table

Joinクエリで右テーブルのフィルタ条件を使用して左テーブルのデータをフィルタリングできるかどうかを制御します。可能であれば、クエリ中に処理する必要があるデータ量を減らすことができます。

`true`は操作が許可され、システムが左テーブルをフィルタリングできるかどうかを決定することを示します。`false`は操作が無効であることを示します。デフォルト値は`true`です。

### init_connect (グローバル)

MySQLクライアント互換性のために使用されます。実際の使用はありません。

### interactive_timeout

MySQLクライアント互換性のために使用されます。実際の使用はありません。

### io_tasks_per_scan_operator (2.5 以降)

スキャンオペレータが発行できる並行I/Oタスクの数です。HDFSやS3などのリモートストレージシステムにアクセスする場合にレイテンシが高いときにこの値を増やしたい場合があります。ただし、値が大きいほどメモリ消費が増えます。

値は整数です。デフォルト値: 4。

### language (グローバル)

MySQLクライアント互換性のために使用されます。実際の使用はありません。

### license (グローバル)

StarRocksのライセンスを表示します。

### load_mem_limit

インポート操作のメモリ制限を指定します。デフォルト値は0で、この変数は使用されず、代わりに`query_mem_limit`が使用されます。

この変数は、クエリとインポートの両方を含む`INSERT`操作にのみ使用されます。ユーザーがこの変数を設定しない場合、クエリとインポートの両方のメモリ制限は`exec_mem_limit`として設定されます。それ以外の場合、クエリのメモリ制限は`exec_mem_limit`として、インポートのメモリ制限は`load_mem_limit`として設定されます。

`BROKER LOAD`、`STREAM LOAD`などの他のインポート方法は、メモリ制限に`exec_mem_limit`を引き続き使用します。

### log_rejected_record_num (v3.1 以降)

ログに記録できる不適格なデータ行の最大数を指定します。有効な値: `0`、`-1`、および0以外の正の整数。デフォルト値: `0`。

* 値`0`は、フィルタリングされたデータ行がログに記録されないことを指定します。
* 値`-1`は、フィルタリングされたすべてのデータ行がログに記録されることを指定します。
* 0以外の正の整数（例えば`n`）は、フィルタリングされたデータ行が各BEで最大`n`行までログに記録されることを指定します。

### lower_case_table_names (グローバル)

MySQLクライアントの互換性のために使用されます。実用的な使用法はありません。StarRocksのテーブル名は大文字と小文字を区別します。

### materialized_view_rewrite_mode (v3.2以降)

非同期マテリアライズドビューのクエリ書き換えモードを指定します。有効な値:

* `disable`: 非同期マテリアライズドビューの自動クエリ書き換えを無効にします。
* `default` (デフォルト値): 非同期マテリアライズドビューの自動クエリ書き換えを有効にし、オプティマイザーがコストに基づいてマテリアライズドビューを使用してクエリを書き換えるかどうかを決定します。クエリを書き換えることができない場合、ベーステーブルのデータを直接スキャンします。
* `default_or_error`: 非同期マテリアライズドビューの自動クエリ書き換えを有効にし、オプティマイザーがコストに基づいてマテリアライズドビューを使用してクエリを書き換えるかどうかを決定します。クエリを書き換えることができない場合、エラーが返されます。
* `force`: 非同期マテリアライズドビューの自動クエリ書き換えを有効にし、オプティマイザーはマテリアライズドビューを使用したクエリ書き換えを優先します。クエリを書き換えることができない場合、ベーステーブルのデータを直接スキャンします。
* `force_or_error`: 非同期マテリアライズドビューの自動クエリ書き換えを有効にし、オプティマイザーはマテリアライズドビューを使用したクエリ書き換えを優先します。クエリを書き換えることができない場合、エラーが返されます。

### max_allowed_packet

JDBC接続プールC3P0との互換性のために使用されます。この変数は、クライアントとサーバー間で送信できるパケットの最大サイズを指定します。デフォルト値: 32MB。単位: Byte。クライアントが"PacketTooBigException"を報告した場合、この値を増やすことができます。

### max_scan_key_num

各クエリによって分割されたスキャンキーの最大数。デフォルト値: -1で、`be.conf`ファイル内の値が使用されることを示します。この変数を0より大きい値に設定すると、`be.conf`の値は無視されます。

### max_pushdown_conditions_per_column

列に対してプッシュダウンできる述語の最大数。デフォルト値: -1で、`be.conf`ファイル内の値が使用されることを示します。この変数を0より大きい値に設定すると、`be.conf`の値は無視されます。

### nested_mv_rewrite_max_level

クエリ書き換えに使用できるネストされたマテリアライズドビューの最大レベル。タイプ: INT。範囲: [1, +∞)。`1`の値は、ベーステーブル上に作成されたマテリアライズドビューのみがクエリ書き換えに使用できることを示します。デフォルト: `3`。

### net_buffer_length

MySQLクライアントの互換性のために使用されます。実用的な使用法はありません。

### net_read_timeout

MySQLクライアントの互換性のために使用されます。実用的な使用法はありません。

### net_write_timeout

MySQLクライアントの互換性のために使用されます。実用的な使用法はありません。

### new_planner_optimize_timeout

クエリオプティマイザのタイムアウト期間です。オプティマイザがタイムアウトした場合、エラーが返されクエリは停止され、これがクエリのパフォーマンスに影響を与えます。クエリに基づいてこの変数をより大きな値に設定するか、StarRocksのテクニカルサポートにトラブルシューティングを依頼することができます。タイムアウトは、クエリに結合が多すぎる場合によく発生します。

デフォルト値: 3000。単位: ms。

### parallel_exchange_instance_num

実行プランの上位ノードが下位ノードからデータを受信するために使用する交換ノードの数を設定します。デフォルト値は-1で、交換ノードの数が下位ノードの実行インスタンスの数と等しいことを意味します。この変数を0より大きく、下位ノードの実行インスタンスの数より小さい値に設定すると、交換ノードの数は設定値に等しくなります。

分散クエリ実行プランでは、通常、上位ノードには1つ以上の交換ノードがあり、異なるBE上の下位ノードの実行インスタンスからデータを受信します。通常、交換ノードの数は下位ノードの実行インスタンスの数と等しいです。

データ量が集計後に大幅に減少する集計クエリのシナリオでは、この変数を小さな値に変更してリソースのオーバーヘッドを減らすことができます。例えば、Duplicate Keyテーブルを使用して集計クエリを実行する場合がこれに該当します。

### parallel_fragment_exec_instance_num

各BE上のスキャンノードに使用するインスタンスの数を設定するために使用されます。デフォルト値は1です。

クエリプランは通常、一連のスキャン範囲を生成します。このデータは複数のBEノードに分散されます。BEノードは1つ以上のスキャン範囲を持ち、デフォルトでは各BEノードのスキャン範囲セットは1つの実行インスタンスによってのみ処理されます。マシンリソースが十分にある場合、この変数を増やして複数の実行インスタンスがスキャン範囲を同時に処理できるようにし、効率を向上させることができます。

スキャンインスタンスの数は、集約ノードや結合ノードなど、上位レベルの他の実行ノードの数を決定します。したがって、クエリプラン実行全体の並行性が増加します。この変数を変更すると効率が向上しますが、値が大きいほどCPU、メモリ、ディスクIOなどのマシンリソースをより多く消費します。

### partial_update_mode (3.1以降)

部分更新のモードを制御するために使用されます。有効な値:

* `auto` (デフォルト): システムはUPDATEステートメントと関連する列を分析することによって部分更新のモードを自動的に決定します。
* `column`: 列モードは部分更新に使用され、少数の列と多数の行が関わる部分更新に特に適しています。

詳細については、[UPDATE](../sql-reference/sql-statements/data-manipulation/UPDATE.md#partial-updates-in-column-mode-since-v31)を参照してください。

### performance_schema

MySQL JDBCバージョン8.0.16以降との互換性のために使用されます。実用的な使用法はありません。

### prefer_compute_node

FEがクエリ実行プランをCNノードに配布するかどうかを指定します。有効な値:

* true: FEがクエリ実行プランをCNノードに配布することを示します。
* false: FEがクエリ実行プランをCNノードに配布しないことを示します。

### pipeline_dop

パイプラインインスタンスの並列度で、クエリの並行性を調整するために使用されます。デフォルト値: 0は、システムが各パイプラインインスタンスの並列度を自動的に調整することを示します。この変数を0より大きい値に設定することもできます。一般的に、値は物理CPUコア数の半分に設定されます。

v3.0以降、StarRocksはクエリの並行性に基づいてこの変数を適応的に調整します。

### pipeline_profile_level

クエリプロファイルのレベルを制御します。クエリプロファイルには通常、Fragment、FragmentInstance、Pipeline、PipelineDriver、Operatorの5つのレイヤーがあります。異なるレベルはプロファイルの異なる詳細を提供します:

* 0: StarRocksはプロファイルのメトリクスを組み合わせ、いくつかのコアメトリクスのみを表示します。
* 1: デフォルト値。StarRocksはプロファイルを簡素化し、プロファイルのメトリクスを組み合わせてプロファイルレイヤーを減らします。
* 2: StarRocksはプロファイルのすべてのレイヤーを保持します。このシナリオでは、特にSQLクエリが複雑な場合、プロファイルのサイズが大きくなります。この値は推奨されません。

### query_cache_entry_max_bytes (2.5以降)

パススルーモードをトリガーするためのしきい値。有効な値: 0 から 9223372036854775807。クエリによってアクセスされた特定のタブレットの計算結果のバイト数または行数が `query_cache_entry_max_bytes` または `query_cache_entry_max_rows` で指定されたしきい値を超えると、クエリはパススルーモードに切り替わります。

### query_cache_entry_max_rows (2.5 以降)

キャッシュできる行数の上限。`query_cache_entry_max_bytes` の説明を参照してください。デフォルト値: 409600。

### query_cache_agg_cardinality_limit (2.5 以降)

Query CacheのGROUP BYのカーディナリティの上限。GROUP BYによって生成された行がこの値を超えると、Query Cacheは有効になりません。デフォルト値: 5000000。`query_cache_entry_max_bytes` または `query_cache_entry_max_rows` が0に設定されている場合、関連するタブレットから計算結果が生成されなくても、パススルーモードが使用されます。

### query_cache_size (グローバル)

MySQLクライアントの互換性のために使用されますが、実際の用途はありません。

### query_cache_type

JDBC接続プールC3P0との互換性のために使用されますが、実際の用途はありません。

### query_mem_limit

各バックエンドノードでのクエリのメモリ制限を設定するために使用します。デフォルト値は0で、制限がないことを意味します。`B/K/KB/M/MB/G/GB/T/TB/P/PB` といった単位がサポートされています。

`Memory_Exceed_Limit` エラーが発生した場合、この変数を増やしてみてください。

### query_queue_concurrency_limit (グローバル)

BEでの同時クエリの上限。0より大きく設定された後にのみ有効になります。デフォルト: `0`。

### query_queue_cpu_used_permille_limit (グローバル)

BEのCPU使用率のパーミル（CPU使用率 * 1000）の上限。0より大きく設定された後にのみ有効になります。デフォルト: `0`。範囲: [0, 1000]

### query_queue_max_queued_queries (グローバル)

キュー内のクエリの上限。このしきい値に達すると、新規クエリは拒否されます。0より大きく設定された後にのみ有効になります。デフォルト: `1024`。

### query_queue_mem_used_pct_limit (グローバル)

BEのメモリ使用率のパーセンテージの上限。0より大きく設定された後にのみ有効になります。デフォルト: `0`。範囲: [0, 1]

### query_queue_pending_timeout_second (グローバル)

キュー内の保留中のクエリの最大タイムアウト。このしきい値に達すると、該当するクエリは拒否されます。単位: 秒。デフォルト: `300`。

### query_timeout

クエリのタイムアウトを「秒」単位で設定するために使用します。この変数は、現在の接続内のすべてのクエリステートメントとINSERTステートメントに適用されます。デフォルト値は300秒です。値の範囲: [1, 259200]。

### range_pruner_max_predicate (v3.0 以降)

Rangeパーティションプルーニングに使用できるIN述語の最大数。デフォルト値: 100。100より大きい値を設定すると、システムがすべてのタブレットをスキャンし、クエリのパフォーマンスが低下する可能性があります。

### rewrite_count_distinct_to_bitmap_hll

count distinctクエリをbitmap_union_countおよびhll_union_aggに書き換えるかどうかを決定するために使用されます。

### runtime_filter_on_exchange_node

GRFがExchangeオペレータを介して下位レベルのオペレータにプッシュダウンされた後、ExchangeノードにGRFを配置するかどうか。デフォルト値は`false`で、これはGRFがExchangeオペレータを介して下位レベルのオペレータにプッシュダウンされた後、Exchangeノードに配置されないことを意味します。これにより、GRFの繰り返し使用が防止され、計算時間が短縮されます。

ただし、GRFの配信は「ベストエフォート」のプロセスです。下位レベルのオペレータがGRFを受信できないが、GRFがExchangeノードに配置されていない場合、データをフィルタリングできず、フィルタのパフォーマンスが低下します。`true`は、GRFがExchangeオペレータを介して下位レベルのオペレータにプッシュダウンされた後も、Exchangeノードに配置されることを意味します。

### runtime_join_filter_push_down_limit

BloomフィルターのLocal RFが生成されるハッシュテーブルに許可される最大行数。この値を超えると、Local RFは生成されません。この変数は、過度に長いLocal RFの生成を防ぎます。

値は整数です。デフォルト値: 1024000。

### runtime_profile_report_interval

ランタイムプロファイルが報告される時間間隔。この変数はv3.1.0以降でサポートされています。

単位: 秒、デフォルト: `10`。

### spill_mode (3.0 以降)

中間結果のスピルの実行モード。有効な値:

* `auto`: メモリ使用量のしきい値に達すると、スピルが自動的にトリガーされます。
* `force`: StarRocksは、メモリ使用量に関係なく、関連するすべてのオペレータに対して強制的にスピルを実行します。

この変数は、変数 `enable_spill` が `true` に設定されている場合にのみ有効です。

### SQL_AUTO_IS_NULL

JDBC接続プールC3P0との互換性のために使用されますが、実際の用途はありません。

### sql_dialect (v3.0 以降)

使用されるSQLダイアレクト。たとえば、`set sql_dialect = 'trino';` コマンドを実行してSQLダイアレクトをTrinoに設定し、クエリでTrino固有のSQL構文と関数を使用できます。

> **注意**
>
> StarRocksをTrinoダイアレクトで使用するように設定すると、クエリの識別子はデフォルトで大文字と小文字が区別されません。したがって、データベースとテーブルの作成時に、データベースとテーブルの名前を小文字で指定する必要があります。データベース名とテーブル名を大文字で指定すると、これらのデータベースとテーブルに対するクエリは失敗します。

### sql_mode

特定のSQLダイアレクトに対応するSQLモードを指定するために使用されます。

### sql_safe_updates

MySQLクライアントの互換性のために使用されますが、実際の用途はありません。

### sql_select_limit

MySQLクライアントの互換性のために使用されますが、実際の用途はありません。

### statistic_collect_parallel

BEで実行できる統計収集タスクの並列性を調整するために使用されます。デフォルト値: 1。この値を増やすと、収集タスクを高速化できます。

### storage_engine

StarRocksがサポートするストレージエンジンの種類:

* olap: StarRocksのシステム所有エンジン。
* mysql: MySQLの外部テーブル。
* broker: ブローカープログラムを介して外部テーブルにアクセス。
* elasticsearch または es: Elasticsearchの外部テーブル。
* hive: Hiveの外部テーブル。
* iceberg: v2.1からサポートされているIcebergの外部テーブル。
* hudi: v2.2からサポートされているHudiの外部テーブル。
* jdbc: v2.3からサポートされるJDBC互換データベースの外部テーブル。

### streaming_preaggregation_mode

GROUP BYの第1フェーズのプリアグリゲーションモードを指定するために使用されます。第1フェーズのプリアグリゲーション効果が不十分な場合は、ストリーミングモードを使用できます。これは、データを宛先にストリーミングする前に簡単なデータシリアライゼーションを行います。有効な値:

* `auto`: システムは最初にローカルプリアグリゲーションを試みます。効果が不十分な場合はストリーミングモードに切り替わります。これがデフォルト値です。
* `force_preaggregation`: システムは直接ローカルプリアグリゲーションを実行します。
* `force_streaming`: システムは直接ストリーミングを実行します。

### system_time_zone

現在のシステムのタイムゾーンを表示するために使用されます。変更することはできません。

### time_zone

現在のセッションのタイムゾーンを設定するために使用されます。タイムゾーンは、特定の時間関数の結果に影響を与える可能性があります。

### tx_isolation

MySQLクライアントの互換性のために使用されますが、実際の用途はありません。

### use_compute_nodes

使用できるCNノードの最大数。この変数は `prefer_compute_node=true` の場合に有効です。有効な値:

* `-1`: すべてのCNノードが使用されていることを示します。
* `0`: CNノードが使用されていないことを示します。

### use_v2_rollup

セグメントv2ストレージフォーマットのロールアップインデックスを使用してデータをフェッチするクエリを制御するために使用されます。この変数は、セグメントv2がオンラインになる際の検証に使用されます。他のケースでは推奨されません。

### vectorized_engine_enable (v2.4以降非推奨)

クエリ実行時にベクトル化エンジンを使用するかどうかを制御するために使用されます。`true`の値はベクトル化エンジンが使用されることを示し、それ以外の場合は非ベクトル化エンジンが使用されます。デフォルトは`true`です。この機能はv2.4からデフォルトで有効になっているため、非推奨とされています。

### version (グローバル)

クライアントに返されるMySQLサーバーのバージョンです。

### version_comment (グローバル)

StarRocksのバージョンです。変更することはできません。

### wait_timeout

アイドル状態の接続のタイムアウトを設定するために使用されます。アイドル状態の接続が指定された時間StarRocksとやり取りを行わない場合、StarRocksは能動的にリンクを切断します。デフォルト値は8時間で、秒単位です。
