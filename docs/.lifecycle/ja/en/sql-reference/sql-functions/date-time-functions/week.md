---
displayed_sidebar: English
---

# 週

## 説明

指定された日付の週番号を返します。この関数は、MySQLの`WEEK`関数と同じように動作します。

この関数はv2.3からサポートされています。

## 構文

```Haskell
INT WEEK(DATETIME|DATE date, INT mode)
```

## パラメーター

- `date`: サポートされているデータ型は`DATETIME`と`DATE`です。

- `mode`: オプショナル。サポートされているデータ型は`INT`です。このパラメーターは、週番号を計算するロジックを指定するために使用されます。つまり、週が日曜日または月曜日に始まるか、そして戻り値が0~53の範囲か1~53の範囲かを指定します。値の範囲: 0~7。デフォルト値: `0`。このパラメーターが指定されていない場合、デフォルトで`mode 0`が使用されます。以下の表は、このパラメーターの動作を説明しています。

| モード | 週の最初の曜日 | 範囲 | 1週目はその年に…    |
| :--- | :---------------- | :---- | :---------------------------- |
| 0    | 日曜日            | 0-53  | 日曜日が含まれる    |
| 1    | 月曜日            | 0-53  | 4日以上が含まれる |
| 2    | 日曜日            | 1-53  | 日曜日が含まれる    |
| 3    | 月曜日            | 1-53  | 4日以上が含まれる |
| 4    | 日曜日            | 0-53  | 4日以上が含まれる |
| 5    | 月曜日            | 0-53  | その年に月曜日が含まれる    |
| 6    | 日曜日            | 1-53  | 4日以上が含まれる |
| 7    | 月曜日            | 1-53  | その年に月曜日が含まれる    |

## 戻り値

`INT`型の値を返します。値の範囲: 0~53。具体的な範囲は`mode`パラメーターに基づいて決定されます。`date`の値が無効か入力値が空の場合は`NULL`が返されます。

## 例

`2007-01-01`の週番号を計算します。`2007-01-01`はカレンダーで月曜日です。

- `mode`が`0`に設定され、`0`が返されます。週は日曜日から始まります。`2007-01-01`は月曜日であり、第1週にはなり得ません。したがって、`0`が返されます。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 0);
+-----------------------+
| week('2007-01-01', 0) |
+-----------------------+
|                     0 |
+-----------------------+
1 row in set (0.02 sec)
```

- `mode`が`1`に設定され、`1`が返されます。週は月曜日から始まり、`2007-01-01`は月曜日です。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 1);
+-----------------------+
| week('2007-01-01', 1) |
+-----------------------+
|                     1 |
+-----------------------+
1 row in set (0.02 sec)
```

- `mode`が`2`に設定され、`53`が返されます。週は日曜日から始まりますが、`2007-01-01`は月曜日であり、値の範囲は1~53です。したがって、`53`が返され、これが前年の最後の週であることを示します。

```Plaintext
mysql> SELECT WEEK('2007-01-01', 2);
+-----------------------+
| week('2007-01-01', 2) |
+-----------------------+
|                    53 |
+-----------------------+
1 row in set (0.01 sec)
```
