---
displayed_sidebar: English
---

# substring, substr

## 説明

指定された位置から文字を抽出し、指定された長さの部分文字列を返します。

## 構文

```Haskell
VARCHAR substr(VARCHAR str, pos[, len])
```

## パラメーター

- `str`: 必須、文字を抽出する文字列。VARCHAR 型でなければなりません。
- `pos`: 必須、開始位置を指定する整数です。文字列の最初の文字は1であり、0ではありません。
  - `pos` が 0 の場合、空の文字列が返されます。
  - `pos` が負の整数の場合、この関数は文字列の末尾から文字を抽出します。例2を参照してください。
  - `pos` によって指定された位置が文字列の範囲を超える場合、空の文字列が返されます。例3を参照してください。
- `len`: 省略可能、抽出する文字数を指定する正の整数です。
  - `len` が指定されている場合、この関数は `pos` で指定された位置から `len` 文字を抽出します。
  - `len` が指定されていない場合、この関数は `pos` で始まるすべての文字を抽出します。例1を参照してください。
  - `len` が一致する文字の実際の長さを超える場合、一致するすべての文字が返されます。例4を参照してください。

## 戻り値

VARCHAR 型の値を返します。

## 例

```Plain Text
-- 最初の文字 "s" から始まるすべての文字を抽出します。
MySQL > select substring("starrockscluster", 1);
+-------------------------------------+
| substring('starrockscluster', 1)    |
+-------------------------------------+
| starrockscluster                    |
+-------------------------------------+

-- 位置が負で、文字列の末尾から数えます。
MySQL > select substring("starrocks", -5, 5);
+-------------------------------+
| substring('starrocks', -5, 5) |
+-------------------------------+
| rocks                         |
+-------------------------------+

-- 位置が文字列の長さを超え、空の文字列が返されます。
MySQL > select substring("apple", 8, 2);
+--------------------------------+
| substring('apple', 8, 2)       |
+--------------------------------+
|                                |
+--------------------------------+

-- 5つの一致する文字があります。長さ9は一致する文字の長さを超え、一致するすべての文字が返されます。
MySQL > select substring("apple", 1, 9);
+--------------------------+
| substring('apple', 1, 9) |
+--------------------------+
| apple                    |
+--------------------------+
```

## キーワード

substring, string, sub
