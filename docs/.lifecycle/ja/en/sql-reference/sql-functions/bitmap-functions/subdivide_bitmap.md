---
displayed_sidebar: English
---

# subdivide_bitmap

## 説明

大きなビットマップを複数のサブビットマップに分割します。

この関数は、主にビットマップのエクスポートに使用されます。ビットマップが大きすぎると、MySQLプロトコルで許可されている最大パケットサイズを超えてしまいます。

この機能はv2.5からサポートされています。

## 構文

```Haskell
BITMAP subdivide_bitmap(bitmap, length)
```

## パラメーター

`bitmap`: 分割が必要なビットマップです（必須）。
`length`: 各サブビットマップの最大長です（必須）。この値を超えるビットマップは、複数の小さなビットマップに分割されます。

## 戻り値

`length`を超えない複数のサブビットマップを返します。

## 例

`c2`列がBITMAP列である`t1`テーブルがあるとします。

```Plain
-- `c2`の値を文字列に変換するためにbitmap_to_string()を使用します。
mysql> select c1, bitmap_to_string(c2) from t1;
+------+----------------------+
| c1   | bitmap_to_string(c2) |
+------+----------------------+
|    1 | 1,2,3,4,5,6,7,8,9,10 |
+------+----------------------+

-- `c2`を最大長が3の小さなビットマップに分割します。

mysql> select c1, bitmap_to_string(subdivide_bitmap(c2, 3)) from t1;
+------+------------------------------------+
| c1   | bitmap_to_string(subdivide_bitmap) |
+------+------------------------------------+
|    1 | 1,2,3                              |
|    1 | 4,5,6                              |
|    1 | 7,8,9                              |
|    1 | 10                                 |
+------+------------------------------------+
```
