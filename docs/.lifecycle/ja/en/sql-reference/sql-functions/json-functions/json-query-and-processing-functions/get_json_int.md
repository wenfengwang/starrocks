---
displayed_sidebar: English
---

# get_json_int

## 説明

この関数は、JSON文字列内の指定されたパスから整数値を解析し取得します。

json_pathは`$`で始まり、パス区切り文字として`.`を使用します。

パスに`.`が含まれている場合は、`"`と`"`で囲むことができます。

`[ ]`は、0から始まる配列の添え字として使用されます。

パス内のコンテンツには`"`、`[`、`[`と`]`を含めることはできません。

json_stringまたはjson_pathの形式が誤っている場合、この関数はNULLを返します。

## 構文

```Haskell
INT get_json_int(VARCHAR json_str, VARCHAR json_path)
```

## 例

1. キーが「k1」の値を取得

    ```Plain Text
    MySQL > SELECT get_json_int('{"k1":1, "k2":"2"}', "$.k1");
    +--------------------------------------------+
    | get_json_int('{"k1":1, "k2":"2"}', '$.k1') |
    +--------------------------------------------+
    |                                          1 |
    +--------------------------------------------+
    ```

2. キーが"my.key"の配列の2番目の要素を取得

    ```Plain Text
    MySQL > SELECT get_json_int('{"k1":"v1", "my.key":[1, 2, 3]}', '$."my.key"[1]');
    +------------------------------------------------------------------+
    | get_json_int('{"k1":"v1", "my.key":[1, 2, 3]}', '$."my.key"[1]') |
    +------------------------------------------------------------------+
    |                                                                2 |
    +------------------------------------------------------------------+
    ```

3. パスがk1.key -> k2の配列内の最初の要素を取得

    ```Plain Text
    MySQL > SELECT get_json_int('{"k1.key":{"k2":[1, 2]}}', '$."k1.key".k2[0]');
    +--------------------------------------------------------------+
    | get_json_int('{"k1.key":{"k2":[1, 2]}}', '$."k1.key".k2[0]') |
    +--------------------------------------------------------------+
    |                                                            1 |
    +--------------------------------------------------------------+
    ```

## キーワード

GET_JSON_INT, GET, JSON, INT
