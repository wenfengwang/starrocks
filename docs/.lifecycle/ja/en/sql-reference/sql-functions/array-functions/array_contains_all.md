---
displayed_sidebar: English
---

# array_contains_all

## 説明

`arr1`が`arr2`のすべての要素を含んでいるかどうか、つまり`arr2`が`arr1`のサブセットであるかどうかをチェックします。はいの場合、1が返されます。そうでない場合は、0が返されます。

## 構文

~~~Haskell
BOOLEAN array_contains_all(arr1, arr2)
~~~

## パラメーター

`arr`: 比較する2つの配列。この構文は`arr2`が`arr1`のサブセットであるかどうかをチェックします。

2つの配列の要素のデータ型は同じでなければなりません。StarRocksがサポートする配列要素のデータ型については、[ARRAY](../../../sql-reference/sql-statements/data-types/Array.md)を参照してください。

## 戻り値

BOOLEAN型の値を返します。

`arr2`が`arr1`のサブセットである場合、1が返されます。それ以外の場合は、0が返されます。

2つの配列のいずれかがNULLの場合は、NULLが返されます。

## 使用上の注意

- 配列に`null`要素が含まれている場合、`null`は値として処理されます。

- 空の配列は、任意の配列のサブセットです。

- 2つの配列の要素は、異なる順序を持つことができます。

## 例

1. `t1`という名前のテーブルを作成し、このテーブルにデータを挿入します。

    ~~~SQL
    CREATE TABLE t1 (
        c0 INT,
        c1 ARRAY<INT>,
        c2 ARRAY<INT>
    ) ENGINE=OLAP
    DUPLICATE KEY(c0)
    DISTRIBUTED BY HASH(c0);

    INSERT INTO t1 VALUES
        (1,[1,2,3],[1,2]),
        (2,[1,2,3],[1,4]),
        (3,NULL,[1]),
        (4,[1,2,null],NULL),
        (5,[1,2,null],[null]),
        (6,[2,3],[]);
    ~~~

2. このテーブルからデータをクエリします。

    ~~~Plain
    SELECT * FROM t1 ORDER BY c0;
    +------+------------+----------+
    | c0   | c1         | c2       |
    +------+------------+----------+
    |    1 | [1,2,3]    | [1,2]    |
    |    2 | [1,2,3]    | [1,4]    |
    |    3 | NULL       | [1]      |
    |    4 | [1,2,null] | NULL     |
    |    5 | [1,2,null] | [null]   |
    |    6 | [2,3]      | []       |
    +------+------------+----------+
    ~~~

3. `c2`の各行が`c1`の対応する行のサブセットであるかどうかを確認します。

    ~~~Plaintext
    SELECT c0, c1, c2, array_contains_all(c1, c2) FROM t1 ORDER BY c0;
    +------+------------+----------+----------------------------+
    | c0   | c1         | c2       | array_contains_all(c1, c2) |
    +------+------------+----------+----------------------------+
    |    1 | [1,2,3]    | [1,2]    |                          1 |
    |    2 | [1,2,3]    | [1,4]    |                          0 |
    |    3 | NULL       | [1]      |                       NULL |
    |    4 | [1,2,null] | NULL     |                       NULL |
    |    5 | [1,2,null] | [null]   |                          1 |
    |    6 | [2,3]      | []       |                          1 |
    +------+------------+----------+----------------------------+
    ~~~

出力では、次のようになります。

行1では、`c2`は`c1`のサブセットであり、1が返されます。

行2では、`c2`は`c1`のサブセットではないため、0が返されます。

行3では、`c1`はNULLであり、NULLが返されます。

行4では、`c2`はNULLであり、NULLが返されます。

行5では、2つの配列に`null`が含まれており、`null`は通常の値として処理され、1が返されます。

行6では、`c2`は空の配列であり、`c1`のサブセットと見なされるため、1が返されます。
