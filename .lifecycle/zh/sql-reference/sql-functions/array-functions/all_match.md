---
displayed_sidebar: English
---

# 全部匹配

## 描述

判断数组中的所有元素是否满足给定的条件。

- 如果数组中的所有元素都满足条件（包括数组为空的特殊情况），则返回真（1）。

- 如果有一个或多个元素不满足条件，则返回假（0）。

- 如果条件对一个或多个元素返回空值（NULL），而对所有其他元素返回真，则结果为空值（NULL）。

该功能从版本 v3.0.6 起提供支持。

## 语法

```Haskell
all_match(lambda_function, arr1, arr2...)
```

判断数组 arr1 中的所有元素是否满足 lambda 函数中给定的条件。

## 参数

- arr1：需要匹配的数组。

- arrN：在 lambda 函数中可选使用的其他数组。

- lambda_function：用于匹配值的 lambda 函数。

## 返回值

返回布尔值。

## 使用说明

- lambda 函数遵循[array_map()](array_map.md)的使用说明。
- 如果输入数组为空值（null）或 lambda 函数的结果为 null，则返回 null。
- 如果 arr1 为空数组，则返回 true。
- 要将此函数应用到 MAP 上，可以把 all_match((k,v)->k>v,map) 改写为 all_match(map_values(transform_values((k,v)->k>v, map)))。例如，执行 select all_match(map_values(transform_values((k,v)->k>v, map{2:1}))); 将返回 1。

## 示例

检查数组 x 中的所有元素是否都小于数组 y 中对应的元素。

```Plain
select all_match((x,y) -> x < y, [1,2,-8], [4,5,6]);
+---------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, -8], [4, 5, 6]) |
+---------------------------------------------------+
|                                                 1 |
+---------------------------------------------------+

select all_match((x,y) -> x < y, [1,2,null], [4,5,6]);
+-----------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, NULL], [4, 5, 6]) |
+-----------------------------------------------------+
|                                                NULL |
+-----------------------------------------------------+

select all_match((x,y) -> x < y, [1,2,8], [4,5,6]);
+--------------------------------------------------+
| all_match((x, y) -> x < y, [1, 2, 8], [4, 5, 6]) |
+--------------------------------------------------+
|                                                0 |
+--------------------------------------------------+

select all_match((x,y) -> x < y, [], []);
+------------------------------------+
| all_match((x, y) -> x < y, [], []) |
+------------------------------------+
|                                  1 |
+------------------------------------+

select all_match((x,y) -> x < y, null, [4,5,6]);
+---------------------------------------------+
| all_match((x, y) -> x < y, NULL, [4, 5, 6]) |
+---------------------------------------------+
|                                        NULL |
+---------------------------------------------+
```
