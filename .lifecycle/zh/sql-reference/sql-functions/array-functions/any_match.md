---
displayed_sidebar: English
---

# 任意匹配

## 描述

此函数用于判断数组中是否有任一元素满足给定的条件判断式。

- 如果数组中至少有一个元素满足条件判断式，则返回真（1）。

- 如果数组中没有任何元素满足条件判断式，则返回假（0），特殊情况是数组为空时也返回假。

- 如果条件判断式对一个或多个元素返回空值（NULL），而对所有其他元素返回假，则整个函数返回空值（NULL）。

该功能从版本 v3.0.6 起提供支持。

## 语法

```Haskell
any_match(lambda_function, arr1, arr2...)
```

判断数组 arr1 中是否有任一元素满足 lambda 函数中定义的条件判断式。

## 参数

- arr1：待判断的数组。

- arrN：在 lambda 函数中可选使用的其他数组。

- lambda_function：用于确定值是否匹配的 lambda 函数。

## 返回值

返回布尔值。

## 使用说明

- lambda 函数遵循[array_map()](array_map.md)中的使用说明。
- 如果输入数组为空值（null）或 lambda 函数的结果为 null，则返回 null。
- 如果 arr1 为空数组，则返回 false。
- 若要将此函数应用于 MAP 类型，需将 any_match((k,v)->k>v,map) 重写为 any_match(map_values(transform_values((k,v)->k>v, map)))。例如，执行 select any_match(map_values(transform_values((k,v)->k>v, map{2:1}))); 将返回 1。

## 示例

检查数组 x 中是否存在任一元素小于数组 y 中的元素。

```Plain
select any_match((x,y) -> x < y, [1,2,8], [4,5,6]);
+--------------------------------------------------+
| any_match((x, y) -> x < y, [1, 2, 8], [4, 5, 6]) |
+--------------------------------------------------+
|                                                1 |
+--------------------------------------------------+

select any_match((x,y) -> x < y, [11,12,8], [4,5,6]);
+----------------------------------------------------+
| any_match((x, y) -> x < y, [11, 12, 8], [4, 5, 6]) |
+----------------------------------------------------+
|                                                  0 |
+----------------------------------------------------+

select any_match((x,y) -> x < y, [11,12,null], [4,5,6]);
+-------------------------------------------------------+
| any_match((x, y) -> x < y, [11, 12, NULL], [4, 5, 6]) |
+-------------------------------------------------------+
|                                                  NULL |
+-------------------------------------------------------+

select any_match((x,y) -> x < y, [], []);
+------------------------------------+
| any_match((x, y) -> x < y, [], []) |
+------------------------------------+
|                                  0 |
+------------------------------------+

select any_match((x,y) -> x < y, null, [4,5,6]);
+---------------------------------------------+
| any_match((x, y) -> x < y, NULL, [4, 5, 6]) |
+---------------------------------------------+
|                                        NULL |
+---------------------------------------------+
```
