---
displayed_sidebar: English
---

# 去重映射键

## 描述

此函数用于从映射中移除重复的键，因为映射中的键在语义上必须是唯一的。该函数只保留重复键的最后一个值，这一原则称为“后者胜出”。在从外部表查询MAP数据且映射中存在重复键时，会使用此函数。StarRocks内部表会自动移除映射中的重复键。

该功能从v3.1版本开始支持。

## 语法

```Haskell
distinct_map_keys(any_map)
```

## 参数

any_map：你想要移除重复键的MAP值。

## 返回值

返回一个新的映射，其中每个映射都不含重复的键。

如果输入为NULL，则返回NULL。

## 示例

示例1：基本用法。

```plain
select distinct_map_keys(map{"a":1,"a":2});
+-------------------------------------+
| distinct_map_keys(map{'a':1,'a':2}) |
+-------------------------------------+
| {"a":2}                             |
+-------------------------------------+
```

示例2：从外部表查询MAP数据，并从col_map列中移除重复的键。

```plain
select distinct_map_keys(col_map) as unique, col_map from external_table;
+---------------+---------------+
|      unique   | col_map       |
+---------------+---------------+
|       {"c":2} | {"c":1,"c":2} |
|           NULL|          NULL |
| {"e":4,"d":5} | {"e":4,"d":5} |
+---------------+---------------+
3 rows in set (0.05 sec)
```
