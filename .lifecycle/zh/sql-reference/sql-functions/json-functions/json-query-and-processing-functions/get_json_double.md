---
displayed_sidebar: English
---

# 获取JSON浮点值

## 说明

此函数用于解析JSON字符串中指定路径的浮点数值。json_path必须以$开头，并使用.作为路径分隔符。

如果路径包含.，应使用引号"将其括起来。

方括号[ ]用作数组下标，其起始索引为0。

路径内容不得包含引号"、方括号[或]。

如果json_string或json_path格式不正确，函数将返回NULL。

## 语法

```Haskell
DOUBLE get_json_double(VARCHAR json_str, VARCHAR json_path)
```

## 示例

1. 获取键名为"k1"的值

   ```Plain
   MySQL > SELECT get_json_double('{"k1":1.3, "k2":"2"}', "$.k1");
   +-------------------------------------------------+
   | get_json_double('{"k1":1.3, "k2":"2"}', '$.k1') |
   +-------------------------------------------------+
   |                                             1.3 |
   +-------------------------------------------------+
   ```

2. 获取键名为"my.key"的数组中的第二个元素

   ```Plain
   MySQL > SELECT get_json_double('{"k1":"v1", "my.key":[1.1, 2.2, 3.3]}', '$."my.key"[1]');
   +---------------------------------------------------------------------------+
   | get_json_double('{"k1":"v1", "my.key":[1.1, 2.2, 3.3]}', '$."my.key"[1]') |
   +---------------------------------------------------------------------------+
   |                                                                       2.2 |
   +---------------------------------------------------------------------------+
   ```

3. 获取路径为k1.key -> k2的数组中的第一个元素

   ```Plain
   MySQL > SELECT get_json_double('{"k1.key":{"k2":[1.1, 2.2]}}', '$."k1.key".k2[0]');
   +---------------------------------------------------------------------+
   | get_json_double('{"k1.key":{"k2":[1.1, 2.2]}}', '$."k1.key".k2[0]') |
   +---------------------------------------------------------------------+
   |                                                                 1.1 |
   +---------------------------------------------------------------------+
   ```

## 关键字

GET_JSON_DOUBLE, GET, JSON, DOUBLE
