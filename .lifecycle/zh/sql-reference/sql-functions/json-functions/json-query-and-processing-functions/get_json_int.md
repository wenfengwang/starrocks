---
displayed_sidebar: English
---

# 获取JSON整数值

## 描述

此函数用于解析JSON字符串，并从指定的路径中获取整数值。

json_path 必须以 $ 开头，并使用 . 作为路径分隔符。

如果路径包含 .，应使用双引号 " 将其括起来。

使用方括号 [ ] 表示数组下标，从0开始。

路径内容不得包含双引号 "、方括号 [ 或 ]。

如果 json_string 或 json_path 格式不正确，函数将返回 NULL。

## 语法

```Haskell
INT get_json_int(VARCHAR json_str, VARCHAR json_path)
```

## 示例

1. 获取键名为 "k1" 的值

   ```Plain
   MySQL > SELECT get_json_int('{"k1":1, "k2":"2"}', "$.k1");
   +--------------------------------------------+
   | get_json_int('{"k1":1, "k2":"2"}', '$.k1') |
   +--------------------------------------------+
   |                                          1 |
   +--------------------------------------------+
   ```

2. 获取键名为 "my.key" 的数组中的第二个元素

   ```Plain
   MySQL > SELECT get_json_int('{"k1":"v1", "my.key":[1, 2, 3]}', '$."my.key"[1]');
   +------------------------------------------------------------------+
   | get_json_int('{"k1":"v1", "my.key":[1, 2, 3]}', '$."my.key"[1]') |
   +------------------------------------------------------------------+
   |                                                                2 |
   +------------------------------------------------------------------+
   ```

3. 获取路径为 k1.key -> k2 的数组的第一个元素。

   ```Plain
   MySQL > SELECT get_json_int('{"k1.key":{"k2":[1, 2]}}', '$."k1.key".k2[0]');
   +--------------------------------------------------------------+
   | get_json_int('{"k1.key":{"k2":[1, 2]}}', '$."k1.key".k2[0]') |
   +--------------------------------------------------------------+
   |                                                            1 |
   +--------------------------------------------------------------+
   ```

## 关键字

GET_JSON_INT, GET, JSON, INT
